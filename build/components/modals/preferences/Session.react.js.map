{"version":3,"sources":["../../../../src/components/modals/preferences/Session.react.js"],"names":["SessionItem","props","handleTerminateSession","bind","terminateSession","id","renderTitle","appTitle","renderCurrentDeviceMark","holder","renderAuthTime","authTime","toString","renderState","terminateState","render","propTypes","string","isRequired","number","object","oneOf","PENDING","PROCESSING","SUCCESS","FAILURE"],"mappings":";;;;AAIA;;;;AACA;;AACA;;AAEA;;;;AAEA;;;;;;;;;;+eAVA;;;;IAYMA,W;;;AAcJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BC,IAA5B,OAA9B;AAHiB;AAIlB;;wBAEDD,sB,qCAAyB;AACvB,wCAA0BE,gBAA1B,CAA2C,KAAKH,KAAL,CAAWI,EAAtD;AACD,G;;wBAEDC,W,0BAAc;AAAA,QACJC,QADI,GACS,KAAKN,KADd,CACJM,QADI;;;AAGZ,WACE;AAAA;AAAA,QAAK,WAAU,OAAf;AACGA,cADH;AAEG,WAAKC,uBAAL;AAFH,KADF;AAMD,G;;wBAEDA,uB,sCAA0B;AAAA,QAChBC,MADgB,GACL,KAAKR,KADA,CAChBQ,MADgB;;AAExB,QAAIA,WAAW,aAAf,EAA8B,OAAO,IAAP;;AAE9B,WACE,6DAAkB,IAAG,uCAArB,EAA6D,SAAQ,OAArE,GADF;AAGD,G;;wBAEDC,c,6BAAiB;AAAA,QACPC,QADO,GACM,KAAKV,KADX,CACPU,QADO;;;AAGf,WACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAG,qEAAkB,IAAG,wCAArB,GAAH;AAAA;AAAA,OADF;AAAA;AAC2EA,eAASC,QAAT;AAD3E,KADF;AAKD,G;;wBAEDC,W,0BAAc;AAAA,QACJC,cADI,GACe,KAAKb,KADpB,CACJa,cADI;;;AAGZ,WACE;AACE,oBAAcA,cADhB;AAEE,eACE;AAAA;AAAA,UAAG,WAAU,6CAAb,EAA2D,SAAS,KAAKZ,sBAAzE;AACE,qEAAkB,IAAG,yCAArB;AADF,OAHJ;AAOE,kBACE;AAAA;AAAA,UAAG,WAAU,sDAAb;AAAA;AAAA,OARJ;AAUE,eACE;AAAA;AAAA,UAAG,WAAU,iDAAb;AAAA;AAAA,OAXJ;AAaE,eACE;AAAA;AAAA,UAAG,WAAU,iDAAb;AAAA;AAAA;AAdJ,MADF;AAmBD,G;;wBAEDa,M,qBAAS;AACP,WACE;AAAA;AAAA,QAAI,WAAU,uBAAd;AACG,WAAKT,WAAL,EADH;AAEG,WAAKI,cAAL,EAFH;AAGG,WAAKG,WAAL;AAHH,KADF;AAOD,G;;;;;AAtFGb,W,CACGgB,S,GAAY;AACjBT,YAAU,iBAAUU,MAAV,CAAiBC,UADV;AAEjBT,UAAQ,iBAAUQ,MAAV,CAAiBC,UAFR;AAGjBb,MAAI,iBAAUc,MAAV,CAAiBD,UAHJ;AAIjBP,YAAU,iBAAUS,MAAV,CAAiBF,UAJV;AAKjBJ,kBAAgB,iBAAUO,KAAV,CAAgB,CAC9B,qCAAkBC,OADY,EAE9B,qCAAkBC,UAFY,EAG9B,qCAAkBC,OAHY,EAI9B,qCAAkBC,OAJY,CAAhB,EAKbP;AAVc,C;kBAwFNlB,W","file":"Session.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { AsyncActionStates } from '../../../constants/ActorAppConstants';\n\nimport PreferencesActionCreators from '../../../actions/PreferencesActionCreators';\n\nimport Stateful from '../../common/Stateful.react';\n\nclass SessionItem extends Component {\n  static propTypes = {\n    appTitle: PropTypes.string.isRequired,\n    holder: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    authTime: PropTypes.object.isRequired,\n    terminateState: PropTypes.oneOf([\n      AsyncActionStates.PENDING,\n      AsyncActionStates.PROCESSING,\n      AsyncActionStates.SUCCESS,\n      AsyncActionStates.FAILURE\n    ]).isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.handleTerminateSession = this.handleTerminateSession.bind(this);\n  }\n\n  handleTerminateSession() {\n    PreferencesActionCreators.terminateSession(this.props.id);\n  }\n\n  renderTitle() {\n    const { appTitle } = this.props;\n\n    return (\n      <div className=\"title\">\n        {appTitle}\n        {this.renderCurrentDeviceMark()}\n      </div>\n    );\n  }\n\n  renderCurrentDeviceMark() {\n    const { holder } = this.props;\n    if (holder !== 'THIS_DEVICE') return null;\n\n    return (\n      <FormattedMessage id=\"preferences.security.sessions.current\" tagName=\"small\"/>\n    );\n  }\n\n  renderAuthTime() {\n    const { authTime } = this.props;\n\n    return (\n      <small>\n        <b><FormattedMessage id=\"preferences.security.sessions.authTime\"/>:</b> {authTime.toString()}\n      </small>\n    );\n  }\n\n  renderState() {\n    const { terminateState } = this.props;\n\n    return (\n      <Stateful\n        currentState={terminateState}\n        pending={\n          <a className=\"session-list__session__terminate link--blue\" onClick={this.handleTerminateSession}>\n            <FormattedMessage id=\"preferences.security.sessions.terminate\"/>\n          </a>\n        }\n        processing={\n          <i className=\"session-list__session__terminate material-icons spin\">autorenew</i>\n        }\n        success={\n          <i className=\"session-list__session__terminate material-icons\">check</i>\n        }\n        failure={\n          <i className=\"session-list__session__terminate material-icons\">warning</i>\n        }\n      />\n    );\n  }\n\n  render() {\n    return (\n      <li className=\"session-list__session\">\n        {this.renderTitle()}\n        {this.renderAuthTime()}\n        {this.renderState()}\n      </li>\n    )\n  }\n}\n\nexport default SessionItem;\n"]}