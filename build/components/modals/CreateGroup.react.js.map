{"version":3,"sources":["../../../src/components/modals/CreateGroup.react.js"],"names":["CreateGroup","getStores","calculateState","name","getGroupName","search","getGroupSearch","step","getCurrentStep","selectedUserIds","getSelectedUserIds","props","handleClose","bind","close","renderHeader","cursor","onContactToggle","userIds","setSelectedUserIds","handleNameChange","value","setGroupName","handleSearchChange","setGroupSearch","handleSubmit","idList","peer","createGroup","handleDelete","render","state","create","pure"],"mappings":";;;;;;AAIA;;;;AACA;;;;AACA;;AACA;;AAEA;;;;AAEA;;;;AAEA;;;;;;;;;;+eAbA;;;;IAgBMA,W;;;cACGC,S,wBAAY;AACjB,WAAO,4BAAP;AACD,G;;cACMC,c,6BAAiB;AACtB,WAAO;AACLC,YAAM,2BAAiBC,YAAjB,EADD;AAELC,cAAQ,2BAAiBC,cAAjB,EAFH;AAGLC,YAAM,2BAAiBC,cAAjB,EAHD;AAILC,uBAAiB,2BAAiBC,kBAAjB;AAJZ,KAAP;AAMD,G;;AACD,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,OAAnB;AAHiB;AAIlB;;wBACDD,W,0BAAc;AACZ,wCAA0BE,KAA1B;AACD,G;;wBACDC,Y,2BAAe;AAAA;;AACb,WACE;AAAA;AAAA,QAAQ,WAAU,QAAlB;AACE;AAAA;AAAA,UAAK,WAAU,WAAf;AAA2B,qEAAkB,IAAG,yBAArB;AAA3B,OADF;AAEE;AAAA;AAAA,UAAK,WAAU,YAAf,EAA4B,OAAO,EAACC,QAAQ,SAAT,EAAnC;AAAwD;AAAA;AAAA,YAAQ,SAAS;AAAA,qBAAM,OAAKJ,WAAL,EAAN;AAAA,aAAjB;AAAA;AAAA;AAAxD;AAFF,KADF;AAMD,G;;wBACDK,e,4BAAgBC,O,EAAS;AACvB,wCAA0BC,kBAA1B,CAA6CD,OAA7C;AACD,G;;wBACDE,gB,6BAAiBC,K,EAAO;AACtB,wCAA0BC,YAA1B,CAAuCD,KAAvC;AACD,G;;wBACDE,kB,+BAAmBF,K,EAAO;AACxB,wCAA0BG,cAA1B,CAAyCH,KAAzC;AACD,G;;wBACDI,Y,yBAAaC,M,EAAQvB,I,EAAMwB,I,EAAM;AAC/B,wCAA0BC,WAA1B,CAAsCzB,IAAtC,EAA4C,IAA5C,EAAkDuB,MAAlD;AACD,G;;wBACDG,Y,yBAAapB,e,EAAiB;AAC5B,wCAA0BU,kBAA1B,CAA6CV,eAA7C;AACD,G;;wBAGDqB,M,qBAAS;AACP,QAAInB;AACFM,uBAAiB,KAAKA,eADpB;AAEFG,wBAAkB,KAAKA,gBAFrB;AAGFG,0BAAoB,KAAKA,kBAHvB;AAIFM,oBAAc,KAAKA,YAJjB;AAKFJ,oBAAc,KAAKA,YALjB;AAMFb,mBAAa,KAAKA;AANhB,OAOC,KAAKmB,KAPN,CAAJ;AASA,WACE;AAAA;AAAA;AACE,0BAAiB,eADnB;AAEE,mBAAU,OAFZ;AAGE,wBAAgB,KAAKnB,WAHvB;AAIE,oBAJF;AAME;AAAA;AAAA,UAAK,WAAU,cAAf;AACE;AAAA;AAAA,YAAK,WAAU,gBAAf;AACI,eAAKG,YAAL,EADJ;AAEE,wDAAeJ,KAAf;AAFF;AADF;AANF,KADF;AAgBD,G;;;;;kBAGY,iBAAUqB,MAAV,CAAiBhC,WAAjB,EAA8B,EAACiC,MAAM,KAAP,EAA9B,C","file":"CreateGroup.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component } from 'react';\nimport Modal from 'react-modal';\nimport { Container } from 'flux/utils'\nimport { FormattedMessage } from 'react-intl';\n\nimport CreateGroupActionCreators from '../../actions/CreateGroupActionCreators';\n\nimport CreateGroupStore from '../../stores/CreateGroupStore';\n\nimport GroupForm from './createGroup/Form.react';\n\n\nclass CreateGroup extends Component {\n  static getStores() {\n    return [CreateGroupStore];\n  }\n  static calculateState() {\n    return {\n      name: CreateGroupStore.getGroupName(),\n      search: CreateGroupStore.getGroupSearch(),\n      step: CreateGroupStore.getCurrentStep(),\n      selectedUserIds: CreateGroupStore.getSelectedUserIds()\n    };\n  }\n  constructor(props) {\n    super(props);\n\n    this.handleClose = this.handleClose.bind(this);\n  }\n  handleClose() {\n    CreateGroupActionCreators.close();\n  }\n  renderHeader() {\n    return (\n      <header className=\"header\">\n        <div className=\"pull-left\"><FormattedMessage id=\"modal.createGroup.title\"/></div>\n        <div className=\"pull-right\" style={{cursor: 'Pointer'}}><strong onClick={() => this.handleClose()}>关闭</strong></div>\n      </header>\n    );\n  }\n  onContactToggle(userIds) {\n    CreateGroupActionCreators.setSelectedUserIds(userIds);\n  }\n  handleNameChange(value) {\n    CreateGroupActionCreators.setGroupName(value);\n  }\n  handleSearchChange(value) {\n    CreateGroupActionCreators.setGroupSearch(value);\n  }\n  handleSubmit(idList, name, peer) {\n    CreateGroupActionCreators.createGroup(name, null, idList);\n  }\n  handleDelete(selectedUserIds) {\n    CreateGroupActionCreators.setSelectedUserIds(selectedUserIds);\n  }\n  \n  \n  render() {\n    var props = {\n      onContactToggle: this.onContactToggle,\n      handleNameChange: this.handleNameChange,\n      handleSearchChange: this.handleSearchChange,\n      handleDelete: this.handleDelete,\n      handleSubmit: this.handleSubmit,\n      handleClose: this.handleClose,\n      ...this.state\n    }\n    return (\n      <Modal\n        overlayClassName=\"modal-overlay\"\n        className=\"modal\"\n        onRequestClose={this.handleClose}\n        isOpen>\n\n        <div className=\"create-group\">\n          <div className=\"modal__content\">\n            { this.renderHeader() }\n            <GroupForm {...props} />\n          </div>\n        </div>\n\n      </Modal>\n    );\n  }\n}\n\nexport default Container.create(CreateGroup, {pure: false});\n"]}