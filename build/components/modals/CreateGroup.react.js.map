{"version":3,"sources":["../../../src/components/modals/CreateGroup.react.js"],"names":["CreateGroup","getStores","calculateState","name","getGroupName","search","getGroupSearch","step","getCurrentStep","selectedUserIds","getSelectedUserIds","props","handleClose","bind","close","renderHeader","cursor","onContactToggle","userIds","setSelectedUserIds","handleNameChange","value","setGroupName","handleSearchChange","setGroupSearch","handleSubmit","idList","peer","createGroup","handleDelete","render","state","create","pure"],"mappings":";;;;;;AAIA;;;;AACA;;;;AACA;;AACA;;AAEA;;;;AAEA;;;;AAEA;;;;;;;;;;+eAbA;;;;IAgBMA,W;;;cACGC,S,wBAAY;AACjB,WAAO,4BAAP;AACD,G;;cACMC,c,6BAAiB;AACtB,WAAO;AACLC,YAAM,2BAAiBC,YAAjB,EADD;AAELC,cAAQ,2BAAiBC,cAAjB,EAFH;AAGLC,YAAM,2BAAiBC,cAAjB,EAHD;AAILC,uBAAiB,2BAAiBC,kBAAjB;AAJZ,KAAP;AAMD,G;;AACD,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,OAAnB;AAHiB;AAIlB;;wBACDD,W,0BAAc;AACZ,wCAA0BE,KAA1B;AACD,G;;wBACDC,Y,2BAAe;AAAA;;AACb,WACE;AAAA;AAAA,QAAQ,WAAU,QAAlB;AACE;AAAA;AAAA,UAAK,WAAU,WAAf;AAA2B,qEAAkB,IAAG,yBAArB;AAA3B,OADF;AAEE;AAAA;AAAA,UAAK,WAAU,YAAf,EAA4B,OAAO,EAACC,QAAQ,SAAT,EAAnC;AAAwD;AAAA;AAAA,YAAQ,SAAS;AAAA,qBAAM,OAAKJ,WAAL,EAAN;AAAA,aAAjB;AAAA;AAAA;AAAxD;AAFF,KADF;AAMD,G;;wBACDK,e,4BAAgBC,O,EAAS;AACvB,wCAA0BC,kBAA1B,CAA6CD,OAA7C;AACD,G;;wBACDE,gB,6BAAiBC,K,EAAO;AACtB,wCAA0BC,YAA1B,CAAuCD,KAAvC;AACD,G;;wBACDE,kB,+BAAmBF,K,EAAO;AACxB,wCAA0BG,cAA1B,CAAyCH,KAAzC;AACD,G;;wBACDI,Y,yBAAaC,M,EAAQvB,I,EAAMwB,I,EAAM;AAC/B,wCAA0BC,WAA1B,CAAsCzB,IAAtC,EAA4C,IAA5C,EAAkDuB,MAAlD;AACD,G;;wBACDG,Y,yBAAapB,e,EAAiB;AAC5B,wCAA0BU,kBAA1B,CAA6CV,eAA7C;AACD,G;;wBAGDqB,M,qBAAS;AACP,QAAInB;AACFM,uBAAiB,KAAKA,eADpB;AAEFG,wBAAkB,KAAKA,gBAFrB;AAGFG,0BAAoB,KAAKA,kBAHvB;AAIFM,oBAAc,KAAKA,YAJjB;AAKFJ,oBAAc,KAAKA,YALjB;AAMFb,mBAAa,KAAKA;AANhB,OAOC,KAAKmB,KAPN,CAAJ;AASA,WACE;AAAA;AAAA;AACE,0BAAiB,eADnB;AAEE,mBAAU,OAFZ;AAGE,wBAAgB,KAAKnB,WAHvB;AAIE,oBAJF;AAME;AAAA;AAAA,UAAK,WAAU,cAAf;AACE;AAAA;AAAA,YAAK,WAAU,gBAAf;AACI,eAAKG,YAAL,EADJ;AAEE,wDAAeJ,KAAf;AAFF;AADF;AANF,KADF;AAgBD,G;;;;;kBAGY,iBAAUqB,MAAV,CAAiBhC,WAAjB,EAA8B,EAACiC,MAAM,KAAP,EAA9B,C","file":"CreateGroup.react.js","sourcesContent":["/*\r\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { Container } from 'flux/utils'\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nimport CreateGroupActionCreators from '../../actions/CreateGroupActionCreators';\r\n\r\nimport CreateGroupStore from '../../stores/CreateGroupStore';\r\n\r\nimport GroupForm from './createGroup/Form.react';\r\n\r\n\r\nclass CreateGroup extends Component {\r\n  static getStores() {\r\n    return [CreateGroupStore];\r\n  }\r\n  static calculateState() {\r\n    return {\r\n      name: CreateGroupStore.getGroupName(),\r\n      search: CreateGroupStore.getGroupSearch(),\r\n      step: CreateGroupStore.getCurrentStep(),\r\n      selectedUserIds: CreateGroupStore.getSelectedUserIds()\r\n    };\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n  handleClose() {\r\n    CreateGroupActionCreators.close();\r\n  }\r\n  renderHeader() {\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"pull-left\"><FormattedMessage id=\"modal.createGroup.title\"/></div>\r\n        <div className=\"pull-right\" style={{cursor: 'Pointer'}}><strong onClick={() => this.handleClose()}>关闭</strong></div>\r\n      </header>\r\n    );\r\n  }\r\n  onContactToggle(userIds) {\r\n    CreateGroupActionCreators.setSelectedUserIds(userIds);\r\n  }\r\n  handleNameChange(value) {\r\n    CreateGroupActionCreators.setGroupName(value);\r\n  }\r\n  handleSearchChange(value) {\r\n    CreateGroupActionCreators.setGroupSearch(value);\r\n  }\r\n  handleSubmit(idList, name, peer) {\r\n    CreateGroupActionCreators.createGroup(name, null, idList);\r\n  }\r\n  handleDelete(selectedUserIds) {\r\n    CreateGroupActionCreators.setSelectedUserIds(selectedUserIds);\r\n  }\r\n  \r\n  \r\n  render() {\r\n    var props = {\r\n      onContactToggle: this.onContactToggle,\r\n      handleNameChange: this.handleNameChange,\r\n      handleSearchChange: this.handleSearchChange,\r\n      handleDelete: this.handleDelete,\r\n      handleSubmit: this.handleSubmit,\r\n      handleClose: this.handleClose,\r\n      ...this.state\r\n    }\r\n    return (\r\n      <Modal\r\n        overlayClassName=\"modal-overlay\"\r\n        className=\"modal\"\r\n        onRequestClose={this.handleClose}\r\n        isOpen>\r\n\r\n        <div className=\"create-group\">\r\n          <div className=\"modal__content\">\r\n            { this.renderHeader() }\r\n            <GroupForm {...props} />\r\n          </div>\r\n        </div>\r\n\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container.create(CreateGroup, {pure: false});\r\n"]}