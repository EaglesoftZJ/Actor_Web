{"version":3,"sources":["../../../../src/components/modals/departmentMenu/DepartmentMenu.react.js"],"names":["DepartementItem","props","state","selectedDw","selectedDwmc","selectedBm","selectedBmmc","szk","scrollTo","hoverable","innerHoverId","selectAllId","componentDidMount","setListeners","componentWillUnmount","cleanListeners","componentDidUpdate","listeners","listen","document","handleMouseMove","bind","forEach","listener","remove","setState","scrollBox","setTimeout","scrollTop","position","top","handleShowAll","event","stopPropagation","onShowAll","renderDw","yh_data","bm_data","dw_data","hoverId","_hoverId","undefined","length","map","result","index","itemId","id","selected","hover","all","resultClassName","arr","from","where","toArray","size","dwSelect","mc","handleMouseOver","renderBm","dwId","szk1","parentId","results","orderBy","usersLength","dwid","count","bmSelect","dwmc","console","log","onSelectDw","_dwid","_dwmc","_szk","_bmid","_bmmc","_hoverable","_scrollTo","title","target","parents","bmid","bmmc","onSelectBm","data","onItemHover","render","PropTypes","array","isRequired","string","func","element"],"mappings":"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","file":"DepartmentMenu.react.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\nimport EventListener from 'fbjs/lib/EventListener';\nimport ToolTip from 'rc-tooltip';\nimport { FormattedMessage, FormattedHTMLMessage } from 'react-intl';\nimport $ from 'jquery';\nimport linq from 'Linq';\n\nclass DepartementItem extends Component {\n    static PropTypes = {\n        dw_data: PropTypes.array.isRequired,\n        bm_data: PropTypes.array.isRequired,\n        yh_data: PropTypes.array,\n        hoverId: PropTypes.string,\n        onSelectDw: PropTypes.func,\n        onSelectBm: PropTypes.func,\n        onItemHover: PropTypes.func,\n        onShowAll: PropTypes.func,\n        scrollBox: PropTypes.element\n    }\n    \n\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            selectedDw: -1,\n            selectedDwmc: '',\n            selectedBm: -1,\n            selectedBmmc: '',\n            szk: '',\n            scrollTo: null,\n            hoverable: true,\n            innerHoverId: '',\n            selectAllId: ''\n        }\n    }\n    componentDidMount() {\n        this.setListeners();\n    }\n    componentWillUnmount() {\n        this.cleanListeners();\n    }\n    componentDidUpdate() {\n        this.scrollTo();\n    }\n    setListeners() {\n        this.cleanListeners();\n        this.listeners = [\n          EventListener.listen(document, 'mousemove', this.handleMouseMove.bind(this))\n        ];\n    }    \n\n    cleanListeners() {\n        if (this.listeners) {\n          this.listeners.forEach((listener) => listener.remove());\n          this.listeners = null;\n        }\n    }\n    handleMouseMove() {\n        this.setState({'hoverable': true});\n    }\n\n    scrollTo()  {\n        const { scrollTo } = this.state;\n        const { scrollBox } = this.props\n         if (scrollTo) {\n           setTimeout(() => {\n             var scrollTop = $(scrollBox).scrollTop() + $(scrollTo).position().top;\n             $(scrollBox).scrollTop(scrollTop);\n             this.setState({scrollTo: null});\n           }, 10);  \n        }\n    }\n    handleShowAll(selectedDw, selectedDwmc, szk, event) {\n        event.stopPropagation();\n        const { onShowAll } = this.props;\n        this.setState({\n            selectedBm: '', \n            selectedDw: '',\n            szk: '',\n            selectAllId: selectedDw + szk\n        })\n        onShowAll && onShowAll({selectedDw, selectedDwmc, szk, selectedBm: '', selectedBmmc: ''});\n    }\n\n    renderDw() {\n        const { yh_data, bm_data, dw_data, hoverId, onShowAll } = this.props;\n        const { selectedDw, szk, innerHoverId, selectAllId } = this.state;\n        var _hoverId = hoverId === undefined ? innerHoverId : hoverId;\n        if (dw_data && dw_data.length <= 0) {\n          return (\n            <li className=\"results__item--suggestion row\">\n              <FormattedHTMLMessage id=\"modal.department.notFound\" />\n              <button className=\"button button--rised hide\">Create new dialog</button>\n            </li>\n          )\n        }\n    \n        return dw_data.map((result, index) => {\n          const itemId = result.id + result.szk;\n          const selected = (selectedDw + szk) === itemId;\n          const hover = _hoverId === itemId;\n          const all = selectAllId === itemId;\n          const resultClassName = classnames('results__item row', {\n            'results__item--active': hover,\n            'results__item--open': selected,\n            'results__item--all': all\n          });\n        //   const iconClassName = classnames('material-icons icon', hover ? 'icon--blue' : 'icon--blue');\n            let arr = linq.from(yh_data).where('$.dwid.trim() == \"' + result.id + '\" && $.szk ==\"' + result.szk + '\"').toArray();\n            let size = arr.length;\n            return (\n            <li\n              className=\"results__dw\"\n              style={{'position': 'relative'}}\n              key={`r${index}`}>\n              <div className={resultClassName} \n              onClick={(event) => this.dwSelect(result.id, result.mc, result.szk, event)}\n              onMouseOver={this.handleMouseOver.bind(this, result.id, result.szk)}>\n                <div className=\"title col-xs\">\n                    {result.mc}\n                    { onShowAll ? <a href=\"javascript:;\" onClick={ this.handleShowAll.bind(this, result.id, result.mc, result.szk) } title=\"单位所有人\" className=\"all\" target=\"_self\">全</a> : null }\n                    {/* {result.mc} <i className={ iconClassName }>business</i> */}\n                </div>\n                <div className=\"arrow\"></div>\n              </div>\n              <div className=\"children-box\">\n              { selected ? this.renderBm(result.id, result.szk, -1) : null }\n              </div>\n            </li>\n          );\n        });\n      }\n\n    renderBm(dwId, szk1, parentId) {\n        const { bm_data, yh_data, hoverId } = this.props;\n        const { selectedBm, szk, innerHoverId} = this.state;\n        var _hoverId = hoverId === undefined ? innerHoverId : hoverId;\n\n        let results = linq.from(bm_data).where('$.dwid.trim() == \"' + dwId + '\" && $.fid.trim() == \"' + parentId + '\" && $.szk ==' + '\"' + szk1 + '\"').orderBy('$.wzh').toArray();\n        \n        \n        if (results.length <= 0) {\n            return null;\n        }\n    \n\n        return results.map((result, index) => {\n            const itemId = result.id + result.szk;\n            const selected = (selectedBm + szk) === itemId;\n            const hover = _hoverId === itemId;\n            const resultClassName = classnames('results__item row', {\n            'results__item--active': hover,\n            'results__item--selected': selected\n            });\n\n            var usersLength =  0;\n            if (yh_data) {\n                usersLength = linq.from(yh_data).where('$.bmid.trim() == \"' + result.id + '\" && $.dwid.trim() == \"' + result.dwid + '\"&& $.szk == \"' + result.szk +'\"').count();\n            }\n\n            return (\n                <div key={result.id + result.szk} className=\"results__bm\">\n                    <div\n                    className={resultClassName} key={`r${index}`}\n                    onClick={() => this.bmSelect(result.id, result.mc)}\n                    onMouseOver={this.handleMouseOver.bind(this, result.id, result.szk)}>\n                    <div className=\"title col-xs\">\n                        {result.mc} {yh_data ? '(' + usersLength + ')' : null}\n                    </div>\n                    </div>\n                    <div className=\"children-box\">\n                    {this.renderBm(dwId, szk1, result.id)}\n                    </div>\n                </div>\n            );\n        });\n    }\n    dwSelect(dwid, dwmc, szk, event) {\n        console.log('title click');\n        const { selectedDw, selectedDwmc } = this.state;\n        const { onSelectDw, bm_data } = this.props;\n        var hoverable = false,\n            _dwid = '',\n            _dwmc = '',\n            _szk = '',\n            _bmid = '',\n            _bmmc = '',\n            _hoverable = true,\n            _scrollTo = null; \n        if (selectedDw !== dwid || selectedDwmc !== dwmc) {\n            console.log('open');\n            var results = linq.from(bm_data).where('$.dwid.trim() == \"' + dwid + '\" && $.fid.trim() == \"-1\" && $.szk ==' + '\"' + szk + '\"').orderBy('$.wzh').toArray();\n            _dwid = dwid;\n            _dwmc = dwmc;\n            _szk = szk;\n            _bmid = results.length > 0 ? results[0].id : '';\n            _bmmc = results.length > 0 ? results[0].title : '';\n            _hoverable = false;\n            _scrollTo = $(event.target).parents('li');\n        }\n        this.setState({ \n          selectedDw: _dwid,\n          selectedDwmc: _dwmc, \n          selectedBm: _bmid,\n          selectedBmmc: _bmmc,\n          scrollTo: _scrollTo,\n          szk: _szk,\n          hoverable: _hoverable,\n          selectAllId: ''\n        });\n        onSelectDw && onSelectDw({\n            selectedDw: _dwid,\n            selectedDwmc: _dwmc, \n            selectedBm: _bmid,\n            selectedBmmc: _bmmc,\n            szk: _szk\n        });\n    }\n\n    bmSelect(bmid, bmmc) {\n        const { onSelectBm } = this.props;\n        const { selectedDw, selectedDwmc, szk} = this.state;\n        var data = {\n            selectedBm: bmid, \n            selectedBmmc: bmmc\n        }\n        this.setState({...data, selectAllId: ''});\n        onSelectBm && onSelectBm({selectedDw, selectedDwmc, szk, ...data});\n    }\n\n    handleMouseOver(id, szk) {\n        const { onItemHover } = this.props;\n        const { hoverable } = this.state;\n        var hoverId = id + szk;\n        if (onItemHover === undefined) {\n            this.setState({innerHoverId: hoverId});\n        }\n        hoverable && onItemHover && onItemHover(hoverId);\n    }\n\n    render() {\n        return (\n            <ul className=\"department-menu\">\n                { this.renderDw() }\n            </ul>\n        );\n    }\n}\nexport default DepartementItem;"]}