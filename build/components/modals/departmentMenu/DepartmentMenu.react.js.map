{"version":3,"sources":["../../../../src/components/modals/departmentMenu/DepartmentMenu.react.js"],"names":["DepartementItem","props","state","selectedDw","selectedDwmc","selectedBm","selectedBmmc","szk","scrollTo","hoverable","innerHoverId","selectAllId","componentDidMount","setListeners","componentWillUnmount","cleanListeners","componentDidUpdate","listeners","listen","document","handleMouseMove","bind","forEach","listener","remove","setState","scrollBox","setTimeout","scrollTop","position","top","handleShowAll","event","stopPropagation","onShowAll","renderDw","dw_data","hoverId","_hoverId","undefined","length","map","result","index","itemId","id","selected","hover","all","resultClassName","dwSelect","mc","handleMouseOver","renderBm","dwId","szk1","parentId","bm_data","results","from","where","orderBy","toArray","bmSelect","dwid","dwmc","console","log","onSelectDw","_dwid","_dwmc","_szk","_bmid","_bmmc","_hoverable","_scrollTo","title","target","parents","bmid","bmmc","onSelectBm","data","onItemHover","render","PropTypes","array","isRequired","string","func","element"],"mappings":"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","file":"DepartmentMenu.react.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\r\nimport classnames from 'classnames';\r\nimport EventListener from 'fbjs/lib/EventListener';\r\nimport ToolTip from 'rc-tooltip';\r\nimport { FormattedMessage, FormattedHTMLMessage } from 'react-intl';\r\nimport $ from 'jquery';\r\nimport linq from 'Linq';\r\n\r\nclass DepartementItem extends Component {\r\n    static PropTypes = {\r\n        dw_data: PropTypes.array.isRequired,\r\n        bm_data: PropTypes.array.isRequired,\r\n        hoverId: PropTypes.string,\r\n        onSelectDw: PropTypes.func,\r\n        onSelectBm: PropTypes.func,\r\n        onItemHover: PropTypes.func,\r\n        onShowAll: PropTypes.func,\r\n        scrollBox: PropTypes.element\r\n    }\r\n    \r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            selectedDw: -1,\r\n            selectedDwmc: '',\r\n            selectedBm: -1,\r\n            selectedBmmc: '',\r\n            szk: '',\r\n            scrollTo: null,\r\n            hoverable: true,\r\n            innerHoverId: '',\r\n            selectAllId: ''\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.setListeners();\r\n    }\r\n    componentWillUnmount() {\r\n        this.cleanListeners();\r\n    }\r\n    componentDidUpdate() {\r\n        this.scrollTo();\r\n    }\r\n    setListeners() {\r\n        this.cleanListeners();\r\n        this.listeners = [\r\n          EventListener.listen(document, 'mousemove', this.handleMouseMove.bind(this))\r\n        ];\r\n    }    \r\n\r\n    cleanListeners() {\r\n        if (this.listeners) {\r\n          this.listeners.forEach((listener) => listener.remove());\r\n          this.listeners = null;\r\n        }\r\n    }\r\n    handleMouseMove() {\r\n        this.setState({'hoverable': true});\r\n    }\r\n\r\n    scrollTo()  {\r\n        const { scrollTo } = this.state;\r\n        const { scrollBox } = this.props\r\n         if (scrollTo) {\r\n           setTimeout(() => {\r\n             var scrollTop = $(scrollBox).scrollTop() + $(scrollTo).position().top;\r\n             $(scrollBox).scrollTop(scrollTop);\r\n             this.setState({scrollTo: null});\r\n           }, 10);  \r\n        }\r\n    }\r\n    handleShowAll(selectedDw, selectedDwmc, szk, event) {\r\n        event.stopPropagation();\r\n        const { onShowAll } = this.props;\r\n        this.setState({\r\n            selectedBm: '', \r\n            selectedDw: '',\r\n            szk: '',\r\n            selectAllId: selectedDw + szk\r\n        })\r\n        onShowAll && onShowAll({selectedDw, selectedDwmc, szk, selectedBm: '', selectedBmmc: ''});\r\n    }\r\n\r\n    renderDw() {\r\n        const { dw_data, hoverId, onShowAll } = this.props;\r\n        const { selectedDw, szk, innerHoverId, selectAllId } = this.state;\r\n        var _hoverId = hoverId === undefined ? innerHoverId : hoverId;\r\n        if (dw_data && dw_data.length <= 0) {\r\n          return (\r\n            <li className=\"results__item--suggestion row\">\r\n              <FormattedHTMLMessage id=\"modal.department.notFound\" />\r\n              <button className=\"button button--rised hide\">Create new dialog</button>\r\n            </li>\r\n          )\r\n        }\r\n    \r\n        return dw_data.map((result, index) => {\r\n          const itemId = result.id + result.szk;\r\n          const selected = (selectedDw + szk) === itemId;\r\n          const hover = _hoverId === itemId;\r\n          const all = selectAllId === itemId;\r\n          const resultClassName = classnames('results__item row', {\r\n            'results__item--active': hover,\r\n            'results__item--open': selected,\r\n            'results__item--all': all\r\n          });\r\n        //   const iconClassName = classnames('material-icons icon', hover ? 'icon--blue' : 'icon--blue');\r\n    \r\n          return (\r\n            <li\r\n              className=\"results__dw\"\r\n              style={{'position': 'relative'}}\r\n              key={`r${index}`}>\r\n              <div className={resultClassName} \r\n              onClick={(event) => this.dwSelect(result.id, result.mc, result.szk, event)}\r\n              onMouseOver={this.handleMouseOver.bind(this, result.id, result.szk)}>\r\n                <div className=\"title col-xs\">\r\n                    {result.mc}\r\n                    { onShowAll ? <a href=\"javascript:;\" onClick={ this.handleShowAll.bind(this, result.id, result.mc, result.szk) } title=\"单位所有人\" className=\"all\" target=\"_self\">全</a> : null }\r\n                    {/* {result.mc} <i className={ iconClassName }>business</i> */}\r\n                </div>\r\n                <div className=\"arrow\"></div>\r\n              </div>\r\n              <div className=\"children-box\">\r\n              { selected ? this.renderBm(result.id, result.szk, -1) : null }\r\n              </div>\r\n            </li>\r\n          );\r\n        });\r\n      }\r\n\r\n    renderBm(dwId, szk1, parentId) {\r\n        const { bm_data, hoverId } = this.props;\r\n        const { selectedBm, szk, innerHoverId} = this.state;\r\n        var _hoverId = hoverId === undefined ? innerHoverId : hoverId;\r\n\r\n        let results = linq.from(bm_data).where('$.dwid.trim() == \"' + dwId + '\" && $.fid.trim() == \"' + parentId + '\" && $.szk ==' + '\"' + szk1 + '\"').orderBy('$.wzh').toArray();\r\n    \r\n        if (results.length <= 0) {\r\n            return null;\r\n        }\r\n    \r\n\r\n        return results.map((result, index) => {\r\n            const itemId = result.id + result.szk;\r\n            const selected = (selectedBm + szk) === itemId;\r\n            const hover = _hoverId === itemId;\r\n            const resultClassName = classnames('results__item row', {\r\n            'results__item--active': hover,\r\n            'results__item--selected': selected\r\n            });\r\n\r\n            return (\r\n                <div key={result.id + result.szk} className=\"results__bm\">\r\n                    <div\r\n                    className={resultClassName} key={`r${index}`}\r\n                    onClick={() => this.bmSelect(result.id, result.mc)}\r\n                    onMouseOver={this.handleMouseOver.bind(this, result.id, result.szk)}>\r\n                    <div className=\"title col-xs\">\r\n                        {result.mc}\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"children-box\">\r\n                    {this.renderBm(dwId, szk1, result.id)}\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n    dwSelect(dwid, dwmc, szk, event) {\r\n        console.log('title click');\r\n        const { selectedDw, selectedDwmc } = this.state;\r\n        const { onSelectDw, bm_data } = this.props;\r\n        var hoverable = false,\r\n            _dwid = '',\r\n            _dwmc = '',\r\n            _szk = '',\r\n            _bmid = '',\r\n            _bmmc = '',\r\n            _hoverable = true,\r\n            _scrollTo = null; \r\n        if (selectedDw !== dwid || selectedDwmc !== dwmc) {\r\n            console.log('open');\r\n            var results = linq.from(bm_data).where('$.dwid.trim() == \"' + dwid + '\" && $.fid.trim() == \"-1\" && $.szk ==' + '\"' + szk + '\"').orderBy('$.wzh').toArray();\r\n            _dwid = dwid;\r\n            _dwmc = dwmc;\r\n            _szk = szk;\r\n            _bmid = results.length > 0 ? results[0].id : '';\r\n            _bmmc = results.length > 0 ? results[0].title : '';\r\n            _hoverable = false;\r\n            _scrollTo = $(event.target).parents('li');\r\n        }\r\n        this.setState({ \r\n          selectedDw: _dwid,\r\n          selectedDwmc: _dwmc, \r\n          selectedBm: _bmid,\r\n          selectedBmmc: _bmmc,\r\n          scrollTo: _scrollTo,\r\n          szk: _szk,\r\n          hoverable: _hoverable,\r\n          selectAllId: ''\r\n        });\r\n        onSelectDw && onSelectDw({\r\n            selectedDw: _dwid,\r\n            selectedDwmc: _dwmc, \r\n            selectedBm: _bmid,\r\n            selectedBmmc: _bmmc,\r\n            szk: _szk\r\n        });\r\n    }\r\n\r\n    bmSelect(bmid, bmmc) {\r\n        const { onSelectBm } = this.props;\r\n        const { selectedDw, selectedDwmc, szk} = this.state;\r\n        var data = {\r\n            selectedBm: bmid, \r\n            selectedBmmc: bmmc\r\n        }\r\n        this.setState({...data, selectAllId: ''});\r\n        onSelectBm && onSelectBm({selectedDw, selectedDwmc, szk, ...data});\r\n    }\r\n\r\n    handleMouseOver(id, szk) {\r\n        const { onItemHover } = this.props;\r\n        const { hoverable } = this.state;\r\n        var hoverId = id + szk;\r\n        if (onItemHover === undefined) {\r\n            this.setState({innerHoverId: hoverId});\r\n        }\r\n        hoverable && onItemHover && onItemHover(hoverId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ul className=\"department-menu\">\r\n                { this.renderDw() }\r\n            </ul>\r\n        );\r\n    }\r\n}\r\nexport default DepartementItem;"]}