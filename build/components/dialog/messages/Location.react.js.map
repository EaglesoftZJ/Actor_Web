{"version":3,"sources":["../../../../src/components/dialog/messages/Location.react.js"],"names":["MAP_SIZE","Location","props","handleMapClick","bind","event","latitude","longitude","linkToMap","isElectron","window","open","render","className","propTypes","number","isRequired","string"],"mappings":";;;;AAIA;;;;AACA;;;;;;;;;;+eALA;;;;AAOA,IAAMA,WAAW,SAAjB;;AAEA;;;;IAGMC,Q;;;AAMJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AAHiB;AAIlB;;qBAEDD,c,2BAAeE,K,EAAO;AAAA,iBACY,KAAKH,KADjB;AAAA,QACZI,QADY,UACZA,QADY;AAAA,QACFC,SADE,UACFA,SADE;;AAEpB,QAAMC,qDAAmDD,SAAnD,SAAgED,QAAtE;;AAEA,QAAI,sBAAYG,UAAZ,EAAJ,EAA8B;AAC5B;AACAC,aAAOC,IAAP,CAAYH,SAAZ;AACD,KAHD,MAGO;AACLE,aAAOC,IAAP,CAAYH,SAAZ;AACD;AACF,G;;qBAEDI,M,qBAAS;AAAA,kBACoC,KAAKV,KADzC;AAAA,QACCI,QADD,WACCA,QADD;AAAA,QACWC,SADX,WACWA,SADX;AAAA,QACsBM,SADtB,WACsBA,SADtB;;;AAGP,WACE;AAAA;AAAA,QAAK,WAAWA,SAAhB;AACE;AAAA;AAAA,UAAK,WAAU,UAAf,EAA0B,SAAS,KAAKV,cAAxC;AACE;AACE;AACA,kEAAsDI,SAAtD,SAAmED,QAAnE,sBAA4FN,QAA5F,gCAA+HO,SAA/H,SAA4ID,QAA5I,0CAFF;AAGE,eAAI;AAHN;AADF;AADF,KADF;AAWD,G;;;;;AAtCGL,Q,CACGa,S,GAAY;AACjBR,YAAU,iBAAUS,MAAV,CAAiBC,UADV;AAEjBT,aAAW,iBAAUQ,MAAV,CAAiBC,UAFX;AAGjBH,aAAW,iBAAUI;AAHJ,C;kBAwCNhB,Q","file":"Location.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport ActorClient from '../../../utils/ActorClient';\n\nconst MAP_SIZE = '300*100';\n\n/**\n * Class that represent a component for display location messages content\n */\nclass Location extends Component {\n  static propTypes = {\n    latitude: PropTypes.number.isRequired,\n    longitude: PropTypes.number.isRequired,\n    className: PropTypes.string\n  };\n  constructor(props) {\n    super(props);\n\n    this.handleMapClick = this.handleMapClick.bind(this);\n  }\n\n  handleMapClick(event) {\n    const { latitude, longitude } = this.props;\n    const linkToMap = `http://uri.amap.com/marker?position=${longitude},${latitude}`;\n\n    if (ActorClient.isElectron()) {\n      // ActorClient.handleLinkClick(event);\n      window.open(linkToMap);\n    } else {\n      window.open(linkToMap);\n    }\n  }\n\n  render() {\n    const { latitude, longitude, className } = this.props;\n\n    return (\n      <div className={className}>\n        <div className=\"location\" onClick={this.handleMapClick}>\n          <img\n            // src={`https://maps.googleapis.com/maps/api/staticmap?center=${latitude},${longitude}&zoom=15&size=${MAP_SIZE}&scale=2&maptype=roadmap&markers=color:red%7C${latitude},${longitude}`}  \n            src={`http://restapi.amap.com/v3/staticmap?location=${longitude},${latitude}&zoom=15&size=${MAP_SIZE}&scale=2&markers=mid,,A:${longitude},${latitude}&key=2c676be192641e1611b4e44087061878`}\n            alt=\"Location\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Location;\n"]}