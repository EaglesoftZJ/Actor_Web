{"version":3,"sources":["../../../../src/components/dialog/messages/MessageContent.react.js"],"names":["MessageContent","props","context","dialog","delegate","components","messages","Service","service","Text","text","SysText","sysText","Modern","modern","Photo","photo","Animation","animation","Document","document","Voice","voice","Contact","contact","Location","location","Sticker","sticker","shouldComponentUpdate","nextProps","content","render","SERVICE","TEXT","CUSTOM_JSON","operation","PHOTO","ANIMATION","DOCUMENT","VOICE","CONTACT","LOCATION","TEXT_MODERN","STICKER","contextTypes","object","isRequired","propTypes"],"mappings":"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","file":"MessageContent.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { isFunction } from 'lodash';\nimport React, { Component, PropTypes } from 'react';\nimport { MessageContentTypes } from '../../../constants/ActorAppConstants';\n\n// Default message content components\nimport DefaultService from './Service.react';\nimport DefaultText from './Text.react';\nimport DefaultSysText from './sysText.react';\nimport DefaultPhoto from './Photo.react';\nimport DefaultAnimation from './Animation.react';\nimport DefaultDocument from './Document.react';\nimport DefaultVoice from './Voice.react';\nimport DefaultContact from './Contact.react';\nimport DefaultLocation from './Location.react';\nimport DefaultModern from './Modern.react';\nimport DefaultSticker from './Sticker.react';\n\nclass MessageContent extends Component {\n  static contextTypes = {\n    delegate: PropTypes.object.isRequired\n  }\n\n  static propTypes = {\n    content: PropTypes.object.isRequired\n  }\n\n  constructor(props, context) {\n    super(props, context);\n\n    const { dialog } = context.delegate.components;\n    if (dialog && dialog.messages) {\n      this.components = {\n        Service: isFunction(dialog.messages.service) ? dialog.messages.service : DefaultService,\n        Text: isFunction(dialog.messages.text) ? dialog.messages.text : DefaultText,\n        SysText: isFunction(dialog.messages.sysText) ? dialog.messages.sysText : DefaultSysText,\n        Modern: isFunction(dialog.messages.modern) ? dialog.messages.modern : DefaultModern,\n        Photo: isFunction(dialog.messages.photo) ? dialog.messages.photo : DefaultPhoto,\n        Animation: isFunction(dialog.messages.animation) ? dialog.messages.animation : DefaultAnimation,\n        Document: isFunction(dialog.messages.document) ? dialog.messages.document : DefaultDocument,\n        Voice: isFunction(dialog.messages.voice) ? dialog.messages.voice : DefaultVoice,\n        Contact: isFunction(dialog.messages.contact) ? dialog.messages.contact : DefaultContact,\n        Location: isFunction(dialog.messages.location) ? dialog.messages.location : DefaultLocation,\n        Sticker:  isFunction(dialog.messages.sticker) ? dialog.messages.sticker : DefaultSticker\n      };\n    } else {\n      this.components = {\n        Service: DefaultService,\n        Text: DefaultText,\n        SysText: DefaultSysText,\n        Modern: DefaultModern,\n        Photo: DefaultPhoto,\n        Animation: DefaultAnimation,\n        Document: DefaultDocument,\n        Voice: DefaultVoice,\n        Contact: DefaultContact,\n        Location: DefaultLocation,\n        Sticker: DefaultSticker\n      };\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return this.props.content !== nextProps.content;\n  }\n\n  render() {\n    const { content } = this.props;\n    const { Service, Text, Photo, Animation, Document, Voice, Contact, Location, Modern, Sticker, SysText } = this.components;\n\n    switch (content.content) {\n      case MessageContentTypes.SERVICE:\n        return (\n          <Service\n            {...content}\n            className=\"message__content message__content--service\"\n          />\n        );\n      case MessageContentTypes.TEXT:\n        return (\n          <Text\n            {...content}\n            className=\"message__content message__content--text\"\n          />\n        );\n      case MessageContentTypes.CUSTOM_JSON:\n        if (content.operation === 'revert') {\n          // 撤回\n          return (\n            <SysText\n              {...content}\n              className=\"message__content message__content--systext\"\n            />        \n          );\n        }\n        return '';\n      case MessageContentTypes.PHOTO:\n        return (\n          <Photo\n            {...content}\n            className=\"message__content message__content--photo\"\n          />\n        );\n      case MessageContentTypes.ANIMATION:\n        return (\n          <Animation\n            {...content}\n            className=\"message__content message__content--photo\"\n          />\n        );\n      case MessageContentTypes.DOCUMENT:\n        return (\n          <Document\n            {...content}\n            className=\"message__content message__content--document\"\n          />\n        );\n      case MessageContentTypes.VOICE:\n        return (\n          <Voice\n            {...content}\n            className=\"message__content message__content--voice\"\n          />\n        );\n      case MessageContentTypes.CONTACT:\n        return (\n          <Contact\n            {...content}\n            className=\"message__content message__content--contact\"\n          />\n        );\n      case MessageContentTypes.LOCATION:\n        return (\n          <Location\n            {...content}\n            className=\"message__content message__content--location\"\n          />\n        );\n      case MessageContentTypes.TEXT_MODERN:\n        return (\n          <Modern\n            {...content}\n            className=\"message__content message__content--modern\"\n          />\n        );\n      case MessageContentTypes.STICKER:\n        return (\n          <Sticker\n            {...content}\n            className=\"message__content message__content--sticker\"\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n\nexport default MessageContent;\n"]}