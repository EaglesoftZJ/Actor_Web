{"version":3,"sources":["../../../../src/components/dialog/messages/MessageEdit.react.js"],"names":["MessageEdit","props","state","text","message","content","onSubmit","bind","onTyping","onKeyDown","shouldComponentUpdate","componentDidMount","console","debug","setState","event","keyCode","ESC","preventDefault","render","sendByEnter","propTypes","object","isRequired","bool","func","defaultProps"],"mappings":";;;;AAIA;;;;AACA;;AACA;;AACA;;;;;;;;;;+eAPA;;;;IASMA,W;;;AAYJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,KAAL,GAAa;AACXC,YAAMF,MAAMG,OAAN,CAAcC,OAAd,CAAsBF;AADjB,KAAb;;AAIA,UAAKG,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AACA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcD,IAAd,OAAhB;AACA,UAAKE,SAAL,GAAiB,MAAKA,SAAL,CAAeF,IAAf,OAAjB;;AAEA,UAAKG,qBAAL,GAA6B,kDAAsBH,IAAtB,OAA7B;AAXiB;AAYlB;;AAjBD;;;wBAmBAI,iB,gCAAoB;AAClBC,YAAQC,KAAR,CAAc,qBAAd;AACD,G;;wBAEDP,Q,uBAAW;AACT,SAAKL,KAAL,CAAWK,QAAX,CAAoB,KAAKL,KAAL,CAAWG,OAA/B,EAAwC,KAAKF,KAAL,CAAWC,IAAnD;AACD,G;;wBAEDK,Q,qBAASL,I,EAAM;AACb,SAAKW,QAAL,CAAc,EAAEX,UAAF,EAAd;AACD,G;;wBAEDM,S,sBAAUM,K,EAAO;AACf,QAAIA,MAAMC,OAAN,KAAkB,4BAASC,GAA/B,EAAoC;AAClCF,YAAMG,cAAN;AACA,WAAKZ,QAAL;AACD;AACF,G;;wBAEDa,M,qBAAS;AACP,WACE;AACE,qBADF;AAEE,aAAO,KAAKjB,KAAL,CAAWC,IAFpB;AAGE,mBAAa,KAAKF,KAAL,CAAWmB,WAH1B;AAIE,gBAAU,KAAKd,QAJjB;AAKE,gBAAU,KAAKE,QALjB;AAME,iBAAW,KAAKC;AANlB,MADF;AAUD,G;;;;;AAxDGT,W,CACGqB,S,GAAY;AACjBjB,WAAS,iBAAUkB,MAAV,CAAiBC,UADT;AAEjBH,eAAa,iBAAUI,IAAV,CAAeD,UAFX;AAGjBjB,YAAU,iBAAUmB,IAAV,CAAeF;AAHR,C;AADfvB,W,CAQG0B,Y,GAAe;AACpBN,eAAa;AADO,C;kBAmDTpB,W","file":"MessageEdit.react.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\nimport { KeyCodes } from '../../../constants/ActorAppConstants';\nimport ComposeTextArea from '../compose/ComposeTextArea.react';\n\nclass MessageEdit extends Component {\n  static propTypes = {\n    message: PropTypes.object.isRequired,\n    sendByEnter: PropTypes.bool.isRequired,\n    onSubmit: PropTypes.func.isRequired\n  };\n\n  // TODO: pass real props\n  static defaultProps = {\n    sendByEnter: true\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: props.message.content.text\n    };\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onTyping = this.onTyping.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  componentDidMount() {\n    console.debug('REPORT ABOUT MOUNT!');\n  }\n\n  onSubmit() {\n    this.props.onSubmit(this.props.message, this.state.text);\n  }\n\n  onTyping(text) {\n    this.setState({ text });\n  }\n\n  onKeyDown(event) {\n    if (event.keyCode === KeyCodes.ESC) {\n      event.preventDefault();\n      this.onSubmit();\n    }\n  }\n\n  render() {\n    return (\n      <ComposeTextArea\n        autoFocus\n        value={this.state.text}\n        sendByEnter={this.props.sendByEnter}\n        onSubmit={this.onSubmit}\n        onTyping={this.onTyping}\n        onKeyDown={this.onKeyDown}\n      />\n    );\n  }\n}\n\nexport default MessageEdit;\n"]}