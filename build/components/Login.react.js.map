{"version":3,"sources":["../../src/components/Login.react.js"],"names":["Login","props","onLoginChange","event","preventDefault","changeLogin","target","value","onCodeChange","changeCode","onNameChange","changeName","onRequestCode","prmoise","Promise","resolve","reject","requestNickName","state","login","then","sendPassword","code","handleFocus","onSignupRequested","sendSignup","name","handleRestartAuthClick","restartAuth","handleSelectName","toggleDropdown","isOpened","setState","document","addEventListener","closeDropdown","removeEventListener","step","LOGIN_WAIT","CODE_WAIT","isCodeRequested","refs","focus","isCodeSended","NAME_WAIT","start","SharedActor","get","appName","getStores","calculateState","getLogin","getCode","getName","getStep","errors","getErrors","isLoginRequested","isSignupStarted","componentDidMount","componentDidUpdate","renderDropDown","storeName","localStorage","getItem","split","length","map","item","index","bind","render","intl","context","requestFormClassName","signupFormClassName","dropClassName","spinner","messages","COMPLETED","signup","contextTypes","object","create","pure","withProps"],"mappings":"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","file":"Login.react.js","sourcesContent":["/*\r\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\r\n */\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { Container } from 'flux/utils';\r\nimport classnames from 'classnames';\r\nimport SharedContainer from '../utils/SharedContainer';\r\nimport { appName, AuthSteps } from '../constants/ActorAppConstants';\r\nimport { FormattedMessage, FormattedHTMLMessage } from 'react-intl';\r\n\r\nimport LoginActionCreators from '../actions/LoginActionCreators';\r\nimport DepartmentAcationCreators from '../actions/DepartmentActionCreators';\r\n\r\nimport LoginStore from '../stores/LoginStore';\r\n\r\nimport TextField from './common/TextField.react';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    LoginActionCreators.start();\r\n\r\n    const SharedActor = SharedContainer.get();\r\n    this.appName = SharedActor.appName ? SharedActor.appName : appName;\r\n  }\r\n\r\n  static getStores() {\r\n    return [LoginStore];\r\n  }\r\n\r\n  static calculateState() {\r\n    return {\r\n      login: LoginStore.getLogin(),\r\n      code: LoginStore.getCode(),\r\n      name: LoginStore.getName(),\r\n      step: LoginStore.getStep(),\r\n      errors: LoginStore.getErrors(),\r\n      isCodeRequested: LoginStore.isCodeRequested(),\r\n      isCodeSended: LoginStore.isCodeSended(),\r\n      isLoginRequested: LoginStore.isLoginRequested(),\r\n      isSignupStarted: LoginStore.isSignupStarted(),\r\n      isOpened: false\r\n    }\r\n  }\r\n\r\n  static contextTypes = {\r\n    intl: PropTypes.object\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleFocus();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // this.handleFocus();\r\n  }\r\n\r\n  // From change handlers\r\n  onLoginChange = event => {\r\n    event.preventDefault();\r\n    LoginActionCreators.changeLogin(event.target.value);\r\n  };\r\n  onCodeChange = event => {\r\n    event.preventDefault();\r\n    LoginActionCreators.changeCode(event.target.value);\r\n  };\r\n  onNameChange = event => {\r\n    event.preventDefault();\r\n    LoginActionCreators.changeName(event.target.value);\r\n  };\r\n\r\n  // Form submit handlers\r\n  onRequestCode = event => {\r\n    event.preventDefault();\r\n    let prmoise = new Promise((resolve, reject) => {\r\n      LoginActionCreators.requestNickName(this.state.login, resolve, reject);\r\n    });\r\n    prmoise.then(() => {\r\n      let prmoise = new Promise((resolve, reject) => {\r\n        LoginActionCreators.sendPassword(this.state.code, resolve, reject);\r\n      });\r\n      prmoise.then(() => {}, () => {\r\n        this.handleFocus();\r\n      });\r\n    }, () => {\r\n      this.handleFocus();\r\n    });\r\n  };\r\n  onSignupRequested = event => {\r\n    event.preventDefault();\r\n    LoginActionCreators.sendSignup(this.state.name);\r\n  };\r\n\r\n  handleRestartAuthClick = event => {\r\n    event.preventDefault();\r\n    LoginActionCreators.restartAuth();\r\n  };\r\n\r\n  handleSelectName = (name, event) => {\r\n    event.preventDefault();\r\n    LoginActionCreators.changeLogin(name);\r\n  }\r\n\r\n  toggleDropdown = event => {\r\n    event.preventDefault();\r\n    const { isOpened } = this.state;\r\n    if (!isOpened) {\r\n      this.setState({'isOpened': true});\r\n      document.addEventListener('click', this.closeDropdown);\r\n    } else {\r\n      this.closeDropdown();\r\n    }\r\n  }\r\n  closeDropdown = () => {\r\n    this.setState({'isOpened': false});\r\n    document.removeEventListener('click', this.closeDropdown);\r\n  }\r\n\r\n  handleFocus = () => {\r\n    const { step } = this.state;\r\n\r\n    switch (step) {\r\n      case AuthSteps.LOGIN_WAIT:\r\n      case AuthSteps.CODE_WAIT:\r\n        if (!this.state.isCodeRequested) {\r\n          this.refs.login.focus();\r\n        } else if (!this.state.isCodeSended) {\r\n          this.refs.code.focus();\r\n        }\r\n        break;\r\n      case AuthSteps.NAME_WAIT:\r\n        this.refs.name.focus();\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n  renderDropDown() {\r\n    let storeName = localStorage.getItem('storeName') ? localStorage.getItem('storeName').split(',') : [];\r\n    if (storeName && storeName.length === 0) return null;\r\n    return (\r\n      <div>\r\n      <i className=\"drop-icon material-icons\" onClick={this.toggleDropdown}>arrow_drop_down</i>\r\n      <ul className=\"dropdown__menu\">\r\n        {storeName.map((item, index) => {\r\n          return <li className=\"dropdown__menu__item\" onClick={this.handleSelectName.bind(this, item)} key={ index }>{ item }</li>})}\r\n      </ul>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    const { step, errors, login, code, name, isOpened, isCodeRequested, isCodeSended, isSignupStarted, isLoginRequested } = this.state;\r\n    const { intl } = this.context;\r\n\r\n\r\n    let requestFormClassName = classnames('login-new__forms__form', 'login-new__forms__form--request', {\r\n      'login-new__forms__form--active': step === AuthSteps.LOGIN_WAIT || step === AuthSteps.CODE_WAIT,\r\n      'login-new__forms__form--done': step !== AuthSteps.LOGIN_WAIT && step !== AuthSteps.CODE_WAIT\r\n    });\r\n    // let checkFormClassName = classnames('login-new__forms__form', 'login-new__forms__form--check', {\r\n    //   'login-new__forms__form--active': step === AuthSteps.CODE_WAIT && isCodeRequested,\r\n    //   'login-new__forms__form--done': step !== AuthSteps.CODE_WAIT && isCodeSended\r\n    // });\r\n    let signupFormClassName = classnames('login-new__forms__form', 'login-new__forms__form--signup', {\r\n      'login-new__forms__form--active': step === AuthSteps.NAME_WAIT\r\n    });\r\n\r\n    let dropClassName = classnames('dropdown', {\r\n      'dropdown--opened': isOpened\r\n    });\r\n\r\n    const spinner = (\r\n      <div className=\"spinner\">\r\n        <div/><div/><div/><div/><div/><div/>\r\n        <div/><div/><div/><div/><div/><div/>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className=\"login-bg-box\">\r\n      <section className=\"login-new row center-xs middle-xs\">\r\n\r\n        {/* <div className=\"login-new__welcome col-xs row center-xs middle-xs\">\r\n          <img alt={`${this.appName} messenger`}\r\n               className=\"logo\"\r\n               src=\"assets/images/logo.png\"\r\n               srcSet=\"assets/images/logo@2x.png 2x\"/>\r\n\r\n          <article>\r\n            <h1 className=\"login-new__heading\">\r\n              <FormattedHTMLMessage id=\"login.welcome.header\" values={{ appName: this.appName }}/>\r\n            </h1>\r\n\r\n            <FormattedHTMLMessage id=\"login.welcome.text\" values={{ appName: this.appName }}/>\r\n          </article>\r\n\r\n          <footer>\r\n            <div className=\"pull-left\"><FormattedMessage id=\"login.welcome.copyright\" values={{ appName: this.appName }}/></div>\r\n            <div className=\"pull-right\">\r\n              <a href=\"//actorapp.ghost.io/desktop-apps\">Desktop</a>&nbsp;&nbsp;•&nbsp;&nbsp;\r\n              <a href=\"//actor.im/ios\">iPhone</a>&nbsp;&nbsp;•&nbsp;&nbsp;\r\n              <a href=\"//actor.im/android\">Android</a>\r\n            </div>\r\n          </footer>\r\n        </div> */}\r\n\r\n        <div className=\"login-new__forms row center-xs middle-xs\">\r\n        <img alt={`${this.appName} messenger`}\r\n               className=\"logo\"\r\n               src=\"assets/images/logo1.png\"\r\n               width=\"70\"/> \r\n          <h2 className=\"login-title\">\r\n            <FormattedMessage id=\"login.name\"/>\r\n            <FormattedMessage id=\"login.name_en\"/>\r\n          </h2>\r\n          <div>\r\n            <form className={requestFormClassName} onSubmit={this.onRequestCode}>\r\n              {/* <a className=\"wrong\" onClick={this.handleRestartAuthClick}><FormattedMessage id=\"login.wrong\"/></a>*/}\r\n              <div className={ dropClassName }>\r\n              <TextField className=\"login-input login-input-user\"\r\n                         disabled={isLoginRequested || step !== AuthSteps.LOGIN_WAIT && step !== AuthSteps.CODE_WAIT}\r\n                         errorText={errors.login}\r\n                         floatingLabel={intl.messages['login.user']}\r\n                         onChange={this.onLoginChange}\r\n                         placeholder={intl.messages['login.user']}\r\n                         ref=\"login\"\r\n                         value={login}/>\r\n                { this.renderDropDown() }\r\n              </div>\r\n              <TextField className=\"login-input login-input-password\"\r\n                         disabled={isLoginRequested || step !== AuthSteps.LOGIN_WAIT && step !== AuthSteps.CODE_WAIT}\r\n                         errorText={errors.code}\r\n                         floatingLabel={intl.messages['login.authPassword']}\r\n                         onChange={this.onCodeChange}\r\n                         placeholder={intl.messages['login.authPassword']}\r\n                         ref=\"code\"\r\n                         type=\"password\"\r\n                         value={code}/>\r\n              <footer className=\"text-center\">\r\n                <button className=\"button button--rised button--wide\"\r\n                        type=\"submit\"\r\n                        disabled={isLoginRequested}>\r\n                  <FormattedMessage id=\"button.login\"/>\r\n                  {isLoginRequested ? spinner : null}\r\n\r\n                </button>\r\n              </footer>\r\n            </form>\r\n\r\n            <form className={signupFormClassName} onSubmit={this.onSignupRequested}>\r\n              <TextField className=\"login-new__forms__form__input input__material--wide\"\r\n                         disabled={isSignupStarted || step === AuthSteps.COMPLETED}\r\n                         errorText={errors.signup}\r\n                         floatingLabel={intl.messages['login.yourName']}\r\n                         onChange={this.onNameChange}\r\n                         ref=\"name\"\r\n                         type=\"text\"\r\n                         value={name}/>\r\n              <footer className=\"text-center\">\r\n                <button className=\"button button--rised button--wide\"\r\n                        type=\"submit\"\r\n                        disabled={isSignupStarted}>\r\n                  <FormattedMessage id=\"button.signUp\"/>\r\n                  {isSignupStarted ? spinner : null}\r\n                </button>\r\n              </footer>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* <img src=\"../assets/images/bg_bottom.png\" className=\"login-bg-bottom\" width=\"100%\" /> */}\r\n      <div className=\"bottom-info\"><img src=\"../assets/images/logo2.png\" width=\"22\" height=\"25\" style={{'vertical-align': 'middle'}} /> <span style={{'vertical-align': 'middle'}}>浙江易舸软件有限公司</span></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container.create(Login, { pure: false, withProps: true });\r\n"]}