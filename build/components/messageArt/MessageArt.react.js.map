{"version":3,"sources":["../../../src/components/messageArt/MessageArt.react.js"],"names":["MessageArt","props","onMouseLeave","bind","onMouseEnter","shouldComponentUpdate","openTimeout","clearTimeout","closeTimeout","setTimeout","onClose","isActive","onOpen","renderPopup","stickers","onSelect","onStickerSelect","render","propTypes","bool","isRequired","array","func","defaultProps","open","close"],"mappings":";;;;AAIA;;;;AACA;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;+eAVA;;;;IAYMA,U;;;AAeJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,OAApB;AACA,UAAKE,qBAAL,GAA6B,kDAAsBF,IAAtB,OAA7B;AALiB;AAMlB;;uBAEDD,Y,2BAAe;AACb,QAAI,KAAKI,WAAT,EAAsB;AACpBC,mBAAa,KAAKD,WAAlB;AACA,WAAKA,WAAL,GAAmB,KAAnB;AACD;;AAED,SAAKE,YAAL,GAAoBC,WAAW,KAAKR,KAAL,CAAWS,OAAtB,EAA+B,GAA/B,CAApB;AACD,G;;uBAEDN,Y,2BAAe;AACb,QAAI,KAAKI,YAAT,EAAuB;AACrBD,mBAAa,KAAKC,YAAlB;AACA,WAAKA,YAAL,GAAoB,KAApB;AACD;;AAED,QAAI,CAAC,KAAKP,KAAL,CAAWU,QAAhB,EAA0B;AACxB,WAAKL,WAAL,GAAmBG,WAAW,KAAKR,KAAL,CAAWW,MAAtB,EAA8B,EAA9B,CAAnB;AACD;AACF,G;;uBAEDC,W,0BAAc;AAAA,iBACuD,KAAKZ,KAD5D;AAAA,QACJU,QADI,UACJA,QADI;AAAA,QACMG,QADN,UACMA,QADN;AAAA,QACgBC,QADhB,UACgBA,QADhB;AAAA,QAC0BC,eAD1B,UAC0BA,eAD1B;AAAA,QAC2CN,OAD3C,UAC2CA,OAD3C;;AAEZ,QAAI,CAACC,QAAL,EAAe,OAAO,IAAP;;AAEf,WACE;AACE,gBAAUI,QADZ;AAEE,eAASL,OAFX;AAGE,gBAAUI,QAHZ;AAIE,uBAAiBE,eAJnB;AAKE,oBAAc,KAAKZ,YALrB;AAME,oBAAc,KAAKF;AANrB,MADF;AAUD,G;;uBAEDe,M,qBAAS;AAAA,QACCN,QADD,GACc,KAAKV,KADnB,CACCU,QADD;;;AAGP,WACE;AAAA;AAAA,QAAK,WAAU,aAAf;AACE;AAAA;AAAA;AACE,wBAAc,KAAKP,YADrB;AAEE,wBAAc,KAAKF,YAFrB;AAGE,oBAAUS,QAHZ;AAIE,wBAAc;AAJhB;AAME;AAAA;AAAA,YAAG,WAAU,gBAAb;AAAA;AAAA;AANF,OADF;AASG,WAAKE,WAAL;AATH,KADF;AAaD,G;;;;;AA3EGb,U,CACGkB,S,GAAY;AACjBP,YAAU,iBAAUQ,IAAV,CAAeC,UADR;AAEjBN,YAAU,iBAAUO,KAAV,CAAgBD,UAFT;AAGjBR,UAAQ,iBAAUU,IAAV,CAAeF,UAHN;AAIjBV,WAAS,iBAAUY,IAAV,CAAeF,UAJP;AAKjBL,YAAU,iBAAUO,IAAV,CAAeF,UALR;AAMjBJ,mBAAiB,iBAAUM,IAAV,CAAeF;AANf,C;AADfpB,U,CAUGuB,Y,GAAe;AACpBX,UAAQ,mCAAyBY,IADb;AAEpBd,WAAS,mCAAyBe;AAFd,C;kBAoETzB,U","file":"MessageArt.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\n\nimport MessageArtActionCreators from '../../actions/MessageArtActionCreators';\n\nimport Trigger from './Trigger.react';\nimport Popup from './Popup.react';\n\nclass MessageArt extends Component {\n  static propTypes = {\n    isActive: PropTypes.bool.isRequired,\n    stickers: PropTypes.array.isRequired,\n    onOpen: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    onStickerSelect: PropTypes.func.isRequired\n  }\n\n  static defaultProps = {\n    onOpen: MessageArtActionCreators.open,\n    onClose: MessageArtActionCreators.close\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  }\n\n  onMouseLeave() {\n    if (this.openTimeout) {\n      clearTimeout(this.openTimeout);\n      this.openTimeout = false;\n    }\n\n    this.closeTimeout = setTimeout(this.props.onClose, 300);\n  }\n\n  onMouseEnter() {\n    if (this.closeTimeout) {\n      clearTimeout(this.closeTimeout);\n      this.closeTimeout = false;\n    }\n\n    if (!this.props.isActive) {\n      this.openTimeout = setTimeout(this.props.onOpen, 60);\n    }\n  }\n\n  renderPopup() {\n    const { isActive, stickers, onSelect, onStickerSelect, onClose } = this.props;\n    if (!isActive) return null;\n\n    return (\n      <Popup\n        onSelect={onSelect}\n        onClose={onClose}\n        stickers={stickers}\n        onStickerSelect={onStickerSelect}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n      />\n    );\n  }\n\n  render() {\n    const { isActive } = this.props;\n\n    return (\n      <div className=\"message-art\">\n        <Trigger\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          isActive={isActive}\n          isDotVisible={false}\n        >\n          <i className=\"material-icons\">insert_emoticon</i>\n        </Trigger>\n        {this.renderPopup()}\n      </div>\n    )\n  }\n}\n\nexport default MessageArt;\n"]}