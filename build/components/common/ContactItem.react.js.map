{"version":3,"sources":["../../../src/components/common/ContactItem.react.js"],"names":["ContactItem","props","handleMouseMove","event","nativeEvent","stopImmediatePropagation","handleMouseEnter","id","instance","stopPropagation","setState","currentTarget","setListeners","popoverHide","isShow","state","shouldComponentUpdate","bind","handleClick","componentDidMount","console","log","onClick","render","uid","name","placeholder","avatar","type","children","className","showDetial","contactClassName","__html","fontStyle","fontSize","propTypes","number","isRequired","string","func","node","bool","object"],"mappings":";;;;AAIA;;;;AACA;;AACA;;;;AAEA;;;;AAEA;;;;;;;;+eAVA;;;;IAaMA,W;;;AAiBJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAAA,UAenBC,eAfmB,GAeD,iBAAS;AACzBC,YAAMC,WAAN,CAAkBC,wBAAlB;AACD,KAjBkB;;AAAA,UAmBnBC,gBAnBmB,GAmBA,UAACC,EAAD,EAAKJ,KAAL,EAAe;AAAA,UACxBK,QADwB,GACX,MAAKP,KADM,CACxBO,QADwB;;AAEhCL,YAAMM,eAAN;AACAD,eAASE,QAAT,CAAkB,EAAC,UAAU,IAAX,EAAiB,QAAQP,MAAMQ,aAA/B,EAA8C,kBAAkBJ,EAAhE,EAAlB;AACAC,eAASI,YAAT;AACD,KAxBkB;;AAAA,UA0BnBC,WA1BmB,GA0BL,iBAAS;AAAA,UACbC,MADa,GACF,MAAKC,KADH,CACbD,MADa;;AAErB,UAAIA,MAAJ,EAAY;AACV,cAAKJ,QAAL,CAAc,EAAC,UAAU,KAAX,EAAd;AACD;AACF,KA/BkB;;AAGjB,UAAKM,qBAAL,GAA6B,kDAAsBC,IAAtB,OAA7B;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,OAAnB;AAJiB;AAKlB;;wBACDE,iB,gCAAoB;AAClBC,YAAQC,GAAR,CAAY,UAAZ,EAAwB,KAAKpB,KAAL,CAAWO,QAAnC;AACD,G;;wBAEDU,W,0BAAc;AAAA,QACJI,OADI,GACQ,KAAKrB,KADb,CACJqB,OADI;;AAEZA,eAAWA,SAAX;AACD,G;;wBAoBDC,M,qBAAS;AAAA,iBAC2E,KAAKtB,KADhF;AAAA,QACCuB,GADD,UACCA,GADD;AAAA,QACMC,IADN,UACMA,IADN;AAAA,QACYC,WADZ,UACYA,WADZ;AAAA,QACyBC,MADzB,UACyBA,MADzB;AAAA,QACiCC,IADjC,UACiCA,IADjC;AAAA,QACuCC,QADvC,UACuCA,QADvC;AAAA,QACiDC,SADjD,UACiDA,SADjD;AAAA,QAC4DC,UAD5D,UAC4DA,UAD5D;;AAEP,QAAMC,mBAAmB,0BAAW,uBAAX,EAAoCF,SAApC,CAAzB;AACA,WACE;AAAA;AAAA,QAAK,WAAWE,gBAAhB,EAAkC,SAAS,KAAKd,WAAhD;AACE;AAAA;AAAA,UAAK,WAAU,iBAAf;AACE;AACE,iBAAOS,MADT;AAEE,uBAAaD,WAFf;AAGE,gBAAK,OAHP;AAIE,iBAAOD;AAJT;AADF,OADF;AAUE;AAAA;AAAA,UAAK,WAAU,sBAAf;AACE,gDAAM,WAAU,OAAhB,EAAwB,yBAAyB,EAAEQ,QAAQ,iCAAgBR,IAAhB,CAAV,EAAjD,GADF;AAEIM,sBAAcH,SAAQ,OAAtB,GAAgC;AAAA;AAAA,YAAM,WAAU,cAAhB,EAA+B,aAAa,KAAK1B,eAAjD,EAAkE,cAAc,KAAKI,gBAAL,CAAsBW,IAAtB,CAA2B,IAA3B,EAAiCO,GAAjC,CAAhF;AAAuH;AAAA;AAAA,cAAG,WAAU,gBAAb;AAAA;AAAA,WAAvH;AAAwK;AAAA;AAAA,cAAG,OAAO,EAACU,WAAW,QAAZ,EAAsBC,UAAU,MAAhC,EAAV;AAAA;AAAA;AAAxK,SAAhC,GAA6Q;AAFjR,OAVF;AAeE;AAAA;AAAA,UAAK,WAAU,mBAAf;AACGN;AADH;AAfF,KADF;AAqBD,G;;;;;AA1EG7B,W,CACGoC,S,GAAY;AACjBZ,OAAK,iBAAUa,MAAV,CAAiBC,UADL;AAEjBb,QAAM,iBAAUc,MAAV,CAAiBD,UAFN;AAGjBZ,eAAa,iBAAUa,MAAV,CAAiBD,UAHb;AAIjBX,UAAQ,iBAAUY,MAJD;AAKjBX,QAAM,iBAAUW,MALC;;AAOjBT,aAAW,iBAAUS,MAPJ;;AASjBjB,WAAS,iBAAUkB,IATF;;AAWjBX,YAAU,iBAAUY,IAXH;AAYjBV,cAAY,iBAAUW,IAZL;AAajBlC,YAAU,iBAAUmC;AAbH,C;kBA4EN3C,W","file":"ContactItem.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { shouldComponentUpdate } from 'react-addons-pure-render-mixin';\nimport classnames from 'classnames';\n\nimport AvatarItem from './AvatarItem.react';\n\nimport { escapeWithEmoji } from '../../utils/EmojiUtils';\n\n\nclass ContactItem extends Component {\n  static propTypes = {\n    uid: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    placeholder: PropTypes.string.isRequired,\n    avatar: PropTypes.string,\n    type: PropTypes.string,\n\n    className: PropTypes.string,\n\n    onClick: PropTypes.func,\n\n    children: PropTypes.node,\n    showDetial: PropTypes.bool,\n    instance: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.shouldComponentUpdate = shouldComponentUpdate.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  componentDidMount() {\n    console.log('instance', this.props.instance);\n  }\n\n  handleClick() {\n    const { onClick } = this.props;\n    onClick && onClick();\n  }\n\n  handleMouseMove = event => {\n    event.nativeEvent.stopImmediatePropagation();\n  }\n\n  handleMouseEnter = (id, event) => {\n    const { instance } = this.props;\n    event.stopPropagation();\n    instance.setState({'isShow': true, 'node': event.currentTarget, 'selectedUserId': id });\n    instance.setListeners();\n  }\n\n  popoverHide = event => {\n    const { isShow } = this.state;\n    if (isShow) {\n      this.setState({'isShow': false});\n    }\n  }\n\n  render() {\n    const { uid, name, placeholder, avatar, type, children, className, showDetial } = this.props;\n    const contactClassName = classnames('contact row middle-xs', className);\n    return (\n      <div className={contactClassName} onClick={this.handleClick}>\n        <div className=\"contact__avatar\">\n          <AvatarItem\n            image={avatar}\n            placeholder={placeholder}\n            size=\"small\"\n            title={name}\n          />\n        </div>\n\n        <div className=\"contact__body col-xs\">\n          <span className=\"title\" dangerouslySetInnerHTML={{ __html: escapeWithEmoji(name) }}/>\n          { showDetial && type!== 'group' ? <span className=\"account-icon\" onMouseMove={this.handleMouseMove} onMouseEnter={this.handleMouseEnter.bind(this, uid)}><i className=\"material-icons\" >account_circle</i><i style={{fontStyle: 'normal', fontSize: '12px'}}>查看详情</i></span> : null }\n        </div>\n\n        <div className=\"contact__controls\">\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ContactItem;\n"]}