{"version":3,"sources":["../../../src/components/common/Tab.react.js"],"names":["Tab","props","state","showIndex","lineWidth","lineLeft","componentWillMount","componentDidMount","initTab","renderTab","tabList","map","item","index","className","selectTab","bind","renderLine","style","width","left","renderChildren","children","defaultIndex","undefined","length","$node","refs","top","find","eq","outerWidth","position","setState","render","PropTypes","array","isRequired","number"],"mappings":"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","file":"Tab.react.js","sourcesContent":["import React, { Component, Children, PropTypes } from 'react';\r\nimport classnames from 'classnames';\r\nimport $ from 'jquery';\r\n\r\nclass Tab extends Component {\r\n    static PropTypes = {\r\n        tabList: PropTypes.array.isRequired,\r\n        defaultIndex: PropTypes.number\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showIndex: 0,\r\n            lineWidth: 0,\r\n            lineLeft: 0\r\n        }\r\n    }\r\n    componentWillMount() {\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.initTab();\r\n    }\r\n\r\n    renderTab() {\r\n        const { tabList } = this.props;\r\n        const { showIndex } = this.state;\r\n        return tabList.map((item, index) => {\r\n            var className = classnames('tab-top-item', {\r\n                'tab-top-item__active': showIndex === index\r\n            });\r\n            return <a href=\"javascript:;\" target=\"self\" key={ index } className={ className } onClick={this.selectTab.bind(this, index)}>{ item }</a>\r\n        })\r\n    }\r\n    \r\n    renderLine() {\r\n        const { lineWidth, lineLeft } = this.state;\r\n        var style = {width: lineWidth + 'px', left: lineLeft + 'px'};\r\n        return <div className=\"tab-top-line\" style={style}></div>\r\n    }\r\n\r\n    renderChildren() {\r\n        const { children } = this.props;\r\n        const { showIndex } = this.state;\r\n        return Children.map(children, function(item, index) {\r\n            var className = classnames('tab-con-item', {\r\n                'tab-con-item__show': showIndex === index\r\n            })\r\n            return <div className={ className }>{ item }</div>\r\n        })\r\n    }\r\n    initTab() {\r\n        const { defaultIndex } = this.props;\r\n        const { showIndex } = this.state;\r\n        var index = showIndex;\r\n        if (defaultIndex !== undefined) {\r\n            index = defaultIndex;\r\n        }\r\n        this.selectTab(index);\r\n    }\r\n    selectTab(index) {\r\n        const { tabList } = this.props;\r\n        if (tabList.length - 1 < index || index < 0) {\r\n            return false;\r\n        }\r\n        var $node = $(this.refs.top).find('.tab-top-item').eq(index);\r\n        var lineWidth = $node.outerWidth();\r\n        var lineLeft = $node.position().left;\r\n        this.setState({'showIndex': index, lineWidth, lineLeft});\r\n    }\r\n    render() {\r\n        return (\r\n           <div className=\"tab\">\r\n               <div className=\"tab-top\" ref=\"top\">\r\n                   { this.renderTab() }\r\n                   { this.renderLine() }\r\n                </div>\r\n                <div className=\"tab-con\">\r\n                    { this.renderChildren() }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Tab;"]}