{"version":3,"sources":["../../../src/components/common/Scroller.react.js"],"names":["Scroller","props","onResize","bind","onReference","shouldComponentUpdate","nextProps","children","componentDidMount","onUpdate","window","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","node","container","getDimensions","scrollTop","scrollHeight","offsetHeight","getBoundingClientRect","render","className","onScroll","scrollTo","offset","scrollToBottom","scrollToNode","Math","min","offsetTop","propTypes","string","isRequired","func","defaultProps"],"mappings":";;;;AAIA;;;;AACA;;;;AACA;;;;;;;;;;+eANA;;;;IAQMA,Q;;;AAeJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,OAAnB;AAJiB;AAKlB;;qBAEDE,qB,kCAAsBC,S,EAAW;AAC/B,WAAOA,UAAUC,QAAV,KAAuB,KAAKN,KAAL,CAAWM,QAAzC;AACD,G;;qBAEDC,iB,gCAAoB;AAClB,SAAKP,KAAL,CAAWQ,QAAX;AACAC,WAAOC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKT,QAAvC,EAAiD,KAAjD;AACD,G;;qBAEDU,oB,mCAAuB;AACrBF,WAAOG,mBAAP,CAA2B,QAA3B,EAAqC,KAAKX,QAA1C,EAAoD,KAApD;AACD,G;;qBAEDY,kB,iCAAqB;AACnB,SAAKb,KAAL,CAAWQ,QAAX;AACD,G;;qBAEDP,Q,uBAAW;AACT,SAAKD,KAAL,CAAWC,QAAX;AACD,G;;qBAEDE,W,wBAAYW,I,EAAM;AAChB,SAAKC,SAAL,GAAiBD,IAAjB;AACD,G;;qBAEDE,a,4BAAgB;AACd,WAAO;AACLC,iBAAW,KAAKF,SAAL,CAAeE,SADrB;AAELC,oBAAc,KAAKH,SAAL,CAAeG,YAFxB;AAGLC,oBAAc,KAAKJ,SAAL,CAAeI;AAHxB,KAAP;AAKD,G;;qBAEDC,qB,oCAAwB;AACtB,WAAO,KAAKL,SAAL,CAAeK,qBAAf,EAAP;AACD,G;;qBAEDC,M,qBAAS;AACP,QAAMC,YAAY,0BAAW,qBAAX,EAAkC,KAAKtB,KAAL,CAAWsB,SAA7C,CAAlB;;AAEA,WACE;AAAA;AAAA,QAAK,WAAU,mBAAf;AACE;AAAA;AAAA,UAAK,WAAWA,SAAhB,EAA2B,KAAK,KAAKnB,WAArC,EAAkD,UAAU,KAAKH,KAAL,CAAWuB,QAAvE;AACG,aAAKvB,KAAL,CAAWM;AADd;AADF,KADF;AAOD,G;;qBAEDkB,Q,qBAASC,M,EAAQ;AACf,SAAKV,SAAL,CAAeE,SAAf,GAA2BQ,MAA3B;AACD,G;;qBAEDC,c,6BAAiB;AACf,SAAKX,SAAL,CAAeE,SAAf,GAA2B,KAAKF,SAAL,CAAeG,YAA1C;AACD,G;;qBAEDS,Y,yBAAab,I,EAAM;AACjB,SAAKU,QAAL,CAAcI,KAAKC,GAAL,CAASf,KAAKgB,SAAd,EAAyB,KAAKf,SAAL,CAAeG,YAAxC,CAAd;AACD,G;;;;;AAjFGnB,Q,CACGgC,S,GAAY;AACjBT,aAAW,iBAAUU,MADJ;AAEjB1B,YAAU,iBAAUQ,IAAV,CAAemB,UAFR;AAGjBzB,YAAU,iBAAU0B,IAAV,CAAeD,UAHR;AAIjBV,YAAU,iBAAUW,IAAV,CAAeD,UAJR;AAKjBhC,YAAU,iBAAUiC,IAAV,CAAeD;AALR,C;AADflC,Q,CASGoC,Y,GAAe;AACpB3B,0BADoB;AAEpBe,0BAFoB;AAGpBtB;AAHoB,C;kBA2ETF,Q","file":"Scroller.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport classNames from 'classnames';\nimport noop from 'lodash/noop';\n\nclass Scroller extends Component {\n  static propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    onUpdate: PropTypes.func.isRequired,\n    onScroll: PropTypes.func.isRequired,\n    onResize: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    onUpdate: noop,\n    onScroll: noop,\n    onResize: noop\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onResize = this.onResize.bind(this);\n    this.onReference = this.onReference.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return nextProps.children !== this.props.children;\n  }\n\n  componentDidMount() {\n    this.props.onUpdate();\n    window.addEventListener('resize', this.onResize, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize, false);\n  }\n\n  componentDidUpdate() {\n    this.props.onUpdate();\n  }\n\n  onResize() {\n    this.props.onResize();\n  }\n\n  onReference(node) {\n    this.container = node;\n  }\n\n  getDimensions() {\n    return {\n      scrollTop: this.container.scrollTop,\n      scrollHeight: this.container.scrollHeight,\n      offsetHeight: this.container.offsetHeight\n    };\n  }\n\n  getBoundingClientRect() {\n    return this.container.getBoundingClientRect();\n  }\n\n  render() {\n    const className = classNames('scroller__container', this.props.className);\n\n    return (\n      <div className=\"scroller__wrapper\">\n        <div className={className} ref={this.onReference} onScroll={this.props.onScroll}>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n\n  scrollTo(offset) {\n    this.container.scrollTop = offset;\n  }\n\n  scrollToBottom() {\n    this.container.scrollTop = this.container.scrollHeight;\n  }\n\n  scrollToNode(node) {\n    this.scrollTo(Math.min(node.offsetTop, this.container.scrollHeight));\n  }\n}\n\nexport default Scroller;\n"]}