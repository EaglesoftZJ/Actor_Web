{"version":3,"sources":["../../../src/components/common/Image.react.js"],"names":["Image","props","state","isLoading","src","then","setState","render","propTypes","string","isRequired","width","number","height","onLoad","func","onError","onClick"],"mappings":";;;;;;AAIA;;;;AAEA;;;;;;;;;;+eANA;;;;IAQMA,K;;;AAUJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,sBAAMA,KAAN,CADiB;;AAGjB,UAAKC,KAAL,GAAa;AACXC,iBAAW;AADA,KAAb;;AAIA,gCAAaF,MAAMG,GAAnB,EAAwBC,IAAxB,CAA6B,UAACD,GAAD,EAAS;AACpC,YAAKE,QAAL,CAAc;AACZF,gBADY;AAEZD,mBAAW;AAFC,OAAd;AAID,KALD;AAPiB;AAalB;;kBAEDI,M,qBAAS;AAAA,iBACoB,KAAKL,KADzB;AAAA,QACCC,SADD,UACCA,SADD;AAAA,QACYC,GADZ,UACYA,GADZ;;AAEP,QAAID,SAAJ,EAAe,OAAO,IAAP;;AAEf,WACE,kDAAS,KAAKF,KAAd,IAAqB,KAAKG,GAA1B,IADF;AAGD,G;;;;;AAhCGJ,K,CACGQ,S,GAAY;AACjBJ,OAAK,iBAAUK,MAAV,CAAiBC,UADL;AAEjBC,SAAO,iBAAUC,MAFA;AAGjBC,UAAQ,iBAAUD,MAHD;AAIjBE,UAAQ,iBAAUC,IAJD;AAKjBC,WAAS,iBAAUD,IALF;AAMjBE,WAAS,iBAAUF;AANF,C;kBAkCNf,K","file":"Image.react.js","sourcesContent":["/*\n * Copyright (C) 2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\n\nimport convertImage from '../../utils/convertImage';\n\nclass Image extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func,\n    onClick: PropTypes.func\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true\n    };\n\n    convertImage(props.src).then((src) => {\n      this.setState({\n        src,\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    const { isLoading, src } = this.state;\n    if (isLoading) return null;\n\n    return (\n      <img {...this.props} src={src} />\n    );\n  }\n}\n\nexport default Image;\n"]}