{"version":3,"sources":["../../../src/components/common/UserMenu.react.js"],"names":["UserMenu","getStores","calculateState","profile","getProfile","props","state","isOpened","openHelp","bind","openTwitter","openFacebook","openHomePage","setLogout","toggleHeaderMenu","closeHeaderMenu","openMyProfile","customMessage","openCreateGroup","openAddContactModal","onSettingsOpen","setState","document","addEventListener","removeEventListener","show","peer1","id","key","type","peer2","sendTextMessage","open","event","get","twitter","preventDefault","isElectron","handleLinkClick","window","facebook","homePage","page","messenger","sendToElectron","url","then","setLoggedOut","openUpdateDetial","clearCache","renderTwitterLink","renderFacebookLink","renderHomeLink","renderHelpLink","helpPhone","test","renderMenu","menuClass","render","className","usermenuClassName","avatar","placeholder","name","__html","propTypes","string","create"],"mappings":"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","file":"UserMenu.react.js","sourcesContent":["/*\n* Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n*/\n\nimport React, { Component, PropTypes } from 'react';\nimport { Container } from 'flux/utils';\nimport classnames from 'classnames';\nimport ActorClient from '../../utils/ActorClient';\nimport { escapeWithEmoji } from '../../utils/EmojiUtils'\nimport confirm from '../../utils/confirm'\nimport SharedContainer from '../../utils/SharedContainer';\nimport { FormattedMessage } from 'react-intl';\n\nimport ProfileActionCreators from '../../actions/ProfileActionCreators';\nimport CreateGroupActionCreators from '../../actions/CreateGroupActionCreators';\nimport LoginActionCreators from '../../actions/LoginActionCreators';\nimport HelpActionCreators from '../../actions/HelpActionCreators';\nimport AddContactActionCreators from '../../actions/AddContactActionCreators';\nimport PreferencesActionCreators from '../../actions/PreferencesActionCreators';\nimport MessageActionCreators from '../../actions/MessageActionCreators'\n\nimport ProfileStore from '../../stores/ProfileStore';\n\nimport SvgIcon from '../common/SvgIcon.react';\nimport AvatarItem from '../common/AvatarItem.react';\n\nclass UserMenu extends Component {\n  static propTypes = {\n    className: PropTypes.string\n  }\n\n  static getStores() {\n    return [ProfileStore];\n  }\n\n  static calculateState() {\n    return {\n      profile: ProfileStore.getProfile()\n    }\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpened: false\n    }\n\n    this.openHelp = this.openHelp.bind(this);\n    this.openTwitter = this.openTwitter.bind(this);\n    this.openFacebook = this.openFacebook.bind(this);\n    this.openHomePage = this.openHomePage.bind(this);\n    this.setLogout = this.setLogout.bind(this);\n    this.toggleHeaderMenu = this.toggleHeaderMenu.bind(this);\n    this.closeHeaderMenu = this.closeHeaderMenu.bind(this);\n    this.openMyProfile = this.openMyProfile.bind(this);\n    this.customMessage = this.customMessage.bind(this);\n    this.openCreateGroup = this.openCreateGroup.bind(this);\n    this.openAddContactModal = this.openAddContactModal.bind(this);\n    this.onSettingsOpen = this.onSettingsOpen.bind(this);\n    // console.log('profile', this.state.profile);\n    // localStorage.getItem('storeName').indexOf(this.state.profile)\n  }\n\n  toggleHeaderMenu() {\n    const { isOpened } = this.state;\n\n    if (!isOpened) {\n      this.setState({ isOpened: true });\n      document.addEventListener('click', this.closeHeaderMenu, false);\n    } else {\n      this.closeHeaderMenu();\n    }\n  }\n\n  closeHeaderMenu() {\n    this.setState({ isOpened: false });\n    document.removeEventListener('click', this.closeHeaderMenu, false);\n  }\n\n  openMyProfile() {\n    ProfileActionCreators.show();\n  }\n\n  customMessage() {\n    // 手动撤回消息代码\n    var peer1 = {\n      id: 1477384559,\n      key: 'u1477384559',\n      type: 'user'\n    };\n    var peer2 = {\n      id: 673080096,\n      key: 'u673080096',\n      type: 'user'\n    };\n\n    // ActorClient.sendJson(peer, \n    //   JSON.stringify({\n    //     data:{\n    //       text:'马小惠撤回了一条消息',\n    //       rid: '-3590945943832585683',\n    //       uid: 18657304\n    //     },\n    //     dataType: 'revert',\n    //     operation:'revert'\n    //   })\n    // );\n    MessageActionCreators.sendTextMessage(peer1, '未激活发送个消息试试1');\n    MessageActionCreators.sendTextMessage(peer2, '未激活发送个消息试试2');\n    // ActorClient.sendTextMessage\n  }\n\n  openCreateGroup() {\n    CreateGroupActionCreators.open();\n  }\n\n  openAddContactModal() {\n    AddContactActionCreators.open();\n  }\n\n  onSettingsOpen() {\n    PreferencesActionCreators.show();\n  }\n\n  openHelp() {\n    HelpActionCreators.open()\n  }\n\n  openTwitter(event) {\n    const { twitter } = SharedContainer.get();\n\n    event.preventDefault();\n    if (ActorClient.isElectron()) {\n      ActorClient.handleLinkClick(event);\n    } else {\n      window.open(`https://twitter.com/${twitter}`, '_blank');\n    }\n  }\n\n  openFacebook(event) {\n    const { facebook } = SharedContainer.get();\n\n    event.preventDefault();\n    if (ActorClient.isElectron()) {\n      ActorClient.handleLinkClick(event);\n    } else {\n      window.open(`https://facebook.com/${facebook}`, '_blank');\n    }\n  }\n\n  openHomePage(event) {\n    const { homePage } = SharedContainer.get();\n\n    let page = 'http://www.eaglesoft.cn'\n\n    event.preventDefault();\n    if (ActorClient.isElectron()) {\n        window.messenger.sendToElectron('openLink', {url: page});\n    //   ActorClient.handleLinkClick(event);\n    } else {\n      window.open(page, '_blank');\n    }\n  }\n\n  setLogout() {\n    confirm(<FormattedMessage id=\"modal.confirm.logout\"/>).then(\n      () => LoginActionCreators.setLoggedOut(),\n      () => {}\n    );\n  }\n\n  openUpdateDetial() {\n    // 显示更新日志\n    if (ActorClient.isElectron()) {\n        ActorClient.sendToElectron ('showUpdateDetial');\n    }\n  }\n\n  clearCache() {\n    // 清除缓存\n    if (ActorClient.isElectron()) {\n        confirm(<FormattedMessage id=\"modal.confirm.clearCache\"/>).then(\n            () => LoginActionCreators.setLoggedOut(),\n            () => {}\n        );\n        ActorClient.sendToElectron('clearCache');\n    }\n  }\n\n  renderTwitterLink() {\n    const { twitter } = SharedContainer.get();\n    if (!twitter) return null;\n\n    return (\n      <li className=\"dropdown__menu__item\">\n        <a href={`https://twitter.com/${twitter}`} onClick={this.openTwitter}>\n          <SvgIcon className=\"icon icon--dropdown sidebar__header__twitter\" glyph=\"twitter\" />\n          <FormattedMessage id=\"menu.twitter\"/>\n        </a>\n      </li>\n    );\n  }\n\n  renderFacebookLink() {\n    const { facebook } = SharedContainer.get();\n    if (!facebook) return null;\n\n    return (\n      <li className=\"dropdown__menu__item\">\n        <a href={`https://facebook.com/${facebook}`} onClick={this.openFacebook}>\n          <SvgIcon className=\"icon icon--dropdown sidebar__header__facebook\" glyph=\"facebook\" />\n          <FormattedMessage id=\"menu.facebook\"/>\n        </a>\n      </li>\n    );\n  }\n\n  renderHomeLink() {\n    const { homePage } = SharedContainer.get();\n    // if (!homePage) return null;\n\n    return (\n      <li className=\"dropdown__menu__item\">\n        <a href=\"javascript:;\" onClick={this.openHomePage}>\n          <i className=\"material-icons\">public</i>\n          <FormattedMessage id=\"menu.homePage\"/>\n        </a>\n      </li>\n    );\n  }\n\n  renderHelpLink() {\n    const { helpPhone } = SharedContainer.get();\n    if (!helpPhone) return null;\n\n    if (/@/.test(helpPhone)) {\n      return (\n        <li className=\"dropdown__menu__item\">\n          <a href={`mailto:${helpPhone}`}>\n            <i className=\"material-icons\">help</i>\n            <FormattedMessage id=\"menu.helpAndFeedback\"/>\n          </a>\n        </li>\n      );\n    } else {\n      return (\n        <li className=\"dropdown__menu__item\" onClick={this.openHelp}>\n          <i className=\"material-icons\">help</i>\n          <FormattedMessage id=\"menu.helpAndFeedback\"/>\n        </li>\n      );\n    }\n  }\n\n  renderMenu() {\n    const { isOpened } = this.state;\n\n    const menuClass = classnames('dropdown user-menu__dropdown', {\n      'dropdown--opened': isOpened\n    });\n\n    return (\n      <div className={menuClass}>\n        <ul className=\"dropdown__menu dropdown__menu--right\">\n          <li className=\"dropdown__menu__item\" onClick={this.openMyProfile}>\n            <i className=\"material-icons\">edit</i>\n            <FormattedMessage id=\"menu.editProfile\"/>\n          </li>\n          {/* <li className=\"dropdown__menu__item\" onClick={this.customMessage}>\n            <i className=\"material-icons\">edit</i>\n            <FormattedMessage id=\"menu.customMsg\"/>\n          </li> */}\n          {/* <li className=\"dropdown__menu__item\" onClick={this.openAddContactModal}>\n            <i className=\"material-icons\">person_add</i>\n            <FormattedMessage id=\"menu.addToContacts\"/>\n          </li> */}\n          <li className=\"dropdown__menu__item\" onClick={this.openCreateGroup}>\n            <i className=\"material-icons\">group_add</i>\n            <FormattedMessage id=\"menu.createGroup\"/>\n          </li>\n          \n\n          <li className=\"dropdown__menu__separator\"/>\n\n          <li className=\"dropdown__menu__item\" onClick={this.onSettingsOpen}>\n            <i className=\"material-icons\">settings</i>\n            <FormattedMessage id=\"menu.preferences\"/>\n          </li>\n          {/* {this.renderHelpLink()}\n          {this.renderTwitterLink()}\n          {this.renderFacebookLink()} */}\n          {this.renderHomeLink()}\n\n          <li className=\"dropdown__menu__item\" onClick={this.openUpdateDetial}>\n            <i className=\"material-icons\">description</i>\n            <FormattedMessage id=\"menu.updateDetial\"/>\n          </li>\n\n          <li className=\"dropdown__menu__item\" onClick={this.clearCache}>\n            <i className=\"material-icons\">cached</i>\n            <FormattedMessage id=\"menu.clearCache\"/>\n          </li>\n\n          <li className=\"dropdown__menu__separator\"/>\n\n          <li className=\"dropdown__menu__item\" onClick={this.setLogout}>\n            <FormattedMessage id=\"menu.signOut\"/>\n          </li>\n        </ul>\n      </div>\n\n    );\n  }\n\n  render() {\n    const { className } = this.props;\n    const { profile, isOpened } = this.state;\n\n    if (!profile) return null;\n\n    const usermenuClassName = classnames('user-menu', className, {\n      'user-menu--opened': isOpened\n    });\n\n    return (\n      <div className={usermenuClassName} onClick={this.toggleHeaderMenu}>\n        <AvatarItem\n          className=\"user-menu__avatar\"\n          image={profile.avatar}\n          placeholder={profile.placeholder}\n          size=\"tiny\"\n          title={profile.name}\n        />\n\n        <div\n          className=\"user-menu__name\"\n          dangerouslySetInnerHTML={{ __html: escapeWithEmoji(profile.name) }}\n        />\n\n        <i className=\"user-menu__icon material-icons\">arrow_drop_down</i>\n\n        {this.renderMenu()}\n      </div>\n    );\n  }\n}\n\nexport default Container.create(UserMenu);\n"]}