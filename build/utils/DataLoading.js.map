{"version":3,"sources":["../../src/utils/DataLoading.js"],"names":["loading","DataLoading","props","render","progress","total","PropTypes","number","wrapper","component","type","clean","document","body","removeChild","createElement","className","appendChild"],"mappings":";;;kBA2BwBA,O;;AA3BxB;;;;AACA;;;;;;;;;;IAEMC,W;;;AAMF,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA,gDACf,sBAAMA,KAAN,CADe;AAElB;;0BAEDC,M,qBAAS;AAAA,qBACuB,KAAKD,KAD5B;AAAA,YACGE,QADH,UACGA,QADH;AAAA,YACaC,KADb,UACaA,KADb;;AAEL,eACI;AAAA;AAAA,cAAK,WAAU,KAAf;AACI,mDAAK,WAAU,QAAf,GADJ;AAEMD,uBAAW;AAAA;AAAA,kBAAK,WAAU,UAAf;AAA2BA,wBAA3B;AAAA;AAAwCC;AAAxC,aAAX,GAAkE;AAFxE,SADJ;AAMH,K;;;;;AAlBCJ,W,CACKK,S,GAAY;AACfF,cAAW,iBAAUG,MADN;AAEfF,WAAO,iBAAUE;AAFF,C;;;AAoBvB,IAAIC,UAAU,IAAd;AACA,IAAIC,YAAY,EAAhB;;AAEe,SAAST,OAAT,CAAiBU,IAAjB,EAAuBN,QAAvB,EAAiCC,KAAjC,EAAwC;AACnD,QAAIM,QAAQ,SAARA,KAAQ,GAAM;AACd,8CAAuBH,OAAvB;AACAI,iBAASC,IAAT,CAAcC,WAAd,CAA0BN,OAA1B;AACA;AACAA,kBAAU,IAAV;AACH,KALD;AAMA,QAAIE,SAAS,MAAb,EAAqB;AACjBF,mBAAWG,OAAX;AACAH,kBAAUI,SAASG,aAAT,CAAuB,KAAvB,CAAV;AACAP,gBAAQQ,SAAR,GAAoB,iBAApB;AACAJ,iBAASC,IAAT,CAAcI,WAAd,CAA0BT,OAA1B;AACAC,oBAAY,sBAAO,0BAAcR,WAAd,EAA2B,EAACG,kBAAD,EAAWC,YAAX,EAA3B,CAAP,EAAsDG,OAAtD,CAAZ;AACH,KAND,MAMO,IAAIA,WAAWE,SAAS,MAAxB,EAAgC;AACnC;AACAC;AACH,KAHM,MAGA,IAAID,SAAS,MAAb,EAAqB;AACxBD,kBAAUP,KAAV,CAAgBE,QAAhB,GAA2BA,QAA3B;AACAK,kBAAUP,KAAV,CAAgBG,KAAhB,GAAwBA,KAAxB;AACH;AACJ","file":"DataLoading.js","sourcesContent":["import React, {Component, PropTypes, createElement} from 'react';\r\nimport { render, findDOMNode, unmountComponentAtNode } from 'react-dom';\r\n\r\nclass DataLoading extends Component {\r\n    static PropTypes = {\r\n        progress:  PropTypes.number,\r\n        total: PropTypes.number\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const { progress, total } = this.props;\r\n        return (\r\n            <div className=\"box\">\r\n                <div className=\"loader\"></div>\r\n                { progress ? <div className=\"progress\">{progress} / {total}</div> : null }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nvar wrapper = null;\r\nvar component = '';\r\n\r\nexport default function loading(type, progress, total) {\r\n    var clean = () => {\r\n        unmountComponentAtNode(wrapper);\r\n        document.body.removeChild(wrapper);\r\n        // setImmediate(() => wrapper.remove());\r\n        wrapper = null;\r\n    }\r\n    if (type === 'show') {\r\n        wrapper && clean();\r\n        wrapper = document.createElement('div');\r\n        wrapper.className = 'loading-wrapper';\r\n        document.body.appendChild(wrapper);\r\n        component = render(createElement(DataLoading, {progress, total}), wrapper);\r\n    } else if (wrapper && type === 'hide') {\r\n        // document.body.removeChild(wrapper);\r\n        clean();\r\n    } else if (type === 'info') {\r\n        component.props.progress = progress;\r\n        component.props.total = total;\r\n    }\r\n}"]}