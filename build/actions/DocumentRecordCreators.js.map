{"version":3,"sources":["../../src/actions/DocumentRecordCreators.js"],"names":["show","message","node","spapdata","rid","method","ajax","url","type","data","beforeSend","request","console","log","setRequestHeader","success","res","find","html","setRecord","JSON","parse","DOCUMENT_RECORD_SHOW","hide","DOCUMENT_RECORD_HIDE","record","DOCUMENT_RECORD_CHANGE"],"mappings":";;;;AAIA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;kBAGe;AAEbA,QAFa,gBAERC,OAFQ,EAECC,IAFD,EAEO;AAAA;;AAClB,YAAIC,scAIwDF,QAAQG,GAJhE,qIAAJ;AAQA,YAAIC,SAAS,YAAb;AACA,mCAAQ,MAAR;AACA,yBAAEC,IAAF,CAAO;AACHC,iBAAK,qEADF;AAEHC,kBAAM,MAFH;AAGHC,kBAAMN,QAHH;AAIHO,sBAJG,sBAIQC,OAJR,EAIiB;AAChBC,wBAAQC,GAAR,CAAY,YAAZ,EAA0BF,OAA1B;AACAA,wBAAQG,gBAAR,CAAyB,cAAzB,EAAyC,wBAAzC;AACAH,wBAAQG,gBAAR,CAAyB,YAAzB,EAAuC,sBAAsBT,MAA7D;AACH,aARE;;AASHU,qBAAS,iBAACC,GAAD,EAAS;AACdJ,wBAAQC,GAAR,CAAY,MAAZ,EAAoBG,GAApB,EAAyB,sBAAEA,GAAF,EAAOC,IAAP,CAAY,QAAZ,EAAsBC,IAAtB,EAAzB;AACA,sCAAEF,GAAF,EAAOC,IAAP,CAAY,QAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAKE,SAAL,CAAeC,KAAKC,KAAL,CAAW,sBAAEL,GAAF,EAAOC,IAAP,CAAY,QAAZ,EAAsBC,IAAtB,EAAX,CAAf;AACA,kDAAS,+BAAYI,oBAArB,EAA2C,EAACpB,UAAD,EAA3C;AACA,2CAAQ,MAAR;AACH;AAhDE,SAAP;AAkDD,KA/DY;AAiEbqB,QAjEa,kBAiEN;AACL,0CAAS,+BAAYC,oBAArB;AACD,KAnEY;AAoEbL,aApEa,qBAoEHM,MApEG,EAoEK;AAChB,0CAAS,+BAAYC,sBAArB,EAA6C,EAAED,cAAF,EAA7C;AACD;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AA9Ee,C,EAXf","file":"DocumentRecordCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\nimport loading from '../utils/DataLoading';\nimport $ from 'jquery';\n\n\nexport default {\n\n  show(message, node) {\n    var spapdata = `<v:Envelope xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:d=\"http://www.w3.org/2001/XMLSchema\" xmlns:c=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:v=\"http://schemas.xmlsoap.org/soap/envelope/\">\n                        <v:Header />\n                        <v:Body>\n                            <n0:selectXzrz id=\"o0\" c:root=\"1\" xmlns:n0=\"http://eaglesoft\">\n                                <messageId i:type=\"d:string\">${ message.rid }</messageId>\n                            </n0:selectXzrz>\n                        </v:Body>\n                    </v:Envelope>`;\n    var method = 'selectXzrz';  \n    loading('show');\n    $.ajax({\n        url: 'http://61.175.100.14:8012/ActorServices-Maven/services/ActorService',\n        type: 'post',\n        data: spapdata,\n        beforeSend(request) {\n            console.log('beforeSend', request);\n            request.setRequestHeader('Content-Type', 'text/xml;charset=UTF-8');\n            request.setRequestHeader('SOAPActrin', 'http://eaglesoft/' + method);\n        },\n        success: (res) => {\n            console.log(123123, res, $(res).find('return').html());\n            $(res).find('return');\n            // var arr = [{'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':816390165,'userName':'beizx','time':'2018年04月13日 16:29'},\n            // {'messageId':-5310016413293830527,'userId':182777372,'userName':'eg_admin','time':'2018年04月13日 16:31'}];\n\n            this.setRecord(JSON.parse($(res).find('return').html()));\n            dispatch(ActionTypes.DOCUMENT_RECORD_SHOW, {node});\n            loading('hide');\n        }\n    });\n  },\n\n  hide() {\n    dispatch(ActionTypes.DOCUMENT_RECORD_HIDE);\n  },\n  setRecord(record) {\n    dispatch(ActionTypes.DOCUMENT_RECORD_CHANGE, { record });\n  }\n\n//   setMessage(message) {\n//     dispatch(ActionTypes.DOCUMENT_RECORD_MESSAGE_CHNAGE, {message} );\n//   },\n\n//   setNode(node) {\n//     dispatch(ActionTypes.DOCUMENT_RECORD_NODE_CHNAGE, { node });\n//   }\n};\n"]}