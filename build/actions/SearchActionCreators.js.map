{"version":3,"sources":["../../src/actions/SearchActionCreators.js"],"names":["SearchActionCreators","focus","toggleAutoFocus","SEARCH_FOCUS","blur","SEARCH_BLUR","clear","SEARCH_CLEAR","goToMessagesSearch","query","open","setQuery","goToContact","contact","push","peerInfo","peer","key","handleSearch","SEARCH_SET_QUERY","updateResults","elements","getState","results","element","title","userName","SEARCH_SET_RESULTS"],"mappings":";;;;AAAA;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEMA,oB;;;;;iCACJC,K,oBAAQ;AACN,oCAAsBC,eAAtB,CAAsC,KAAtC;AACA,sCAAS,+BAAYC,YAArB;AACD,G;;iCAEDC,I,mBAAO;AACL,sCAAS,+BAAYC,WAArB;AACA,oCAAsBH,eAAtB,CAAsC,IAAtC;AACD,G;;iCAEDI,K,oBAAQ;AACN,sCAAS,+BAAYC,YAArB;AACA,oCAAsBL,eAAtB,CAAsC,IAAtC;AACD,G;;iCAEDM,kB,+BAAmBC,K,EAAO;AACxB,2CAA6BC,IAA7B;AACA,2CAA6BC,QAA7B,CAAsCF,KAAtC;AACA,sCAAS,+BAAYF,YAArB;AACD,G;;iCAEDK,W,wBAAYC,O,EAAS;AACnB,sCAAS,+BAAYN,YAArB;AACA,sBAAQO,IAAR,UAAoBD,QAAQE,QAAR,CAAiBC,IAAjB,CAAsBC,GAA1C;AACD,G;;iCAEDC,Y,yBAAaT,K,EAAO;AAClB,sCAAS,+BAAYU,gBAArB,EAAuC,EAAEV,YAAF,EAAvC;AACA,SAAKW,aAAL,CAAmBX,KAAnB;AACD,G;;iCAEDW,a,0BAAcX,K,EAAO;AACnB,QAAMY,WAAW,2BAAiBC,QAAjB,EAAjB;AACA,QAAMC,UAAU,yBAAOd,KAAP,EAAcY,QAAd,EAAwB,UAACG,OAAD,EAAa;AACnD,aAAO,CACLA,QAAQT,QAAR,CAAiBU,KADZ,EAELD,QAAQT,QAAR,CAAiBW,QAFZ,CAAP;AAID,KALe,CAAhB;;AAOA,sCAAS,+BAAYC,kBAArB,EAAyC,EAAEJ,gBAAF,EAAzC;AACD,G;;;;;kBAGY,IAAIvB,oBAAJ,E","file":"SearchActionCreators.js","sourcesContent":["import { dispatch } from '../dispatcher/ActorAppDispatcher';\nimport history from '../utils/history';\nimport { search } from '../utils/SearchUtils';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport QuickSearchStore from '../stores/QuickSearchStore';\nimport ComposeActionCreators from './ComposeActionCreators';\nimport SearchMessagesActionCreators from './SearchMessagesActionCreators';\n\nclass SearchActionCreators {\n  focus() {\n    ComposeActionCreators.toggleAutoFocus(false);\n    dispatch(ActionTypes.SEARCH_FOCUS);\n  }\n\n  blur() {\n    dispatch(ActionTypes.SEARCH_BLUR);\n    ComposeActionCreators.toggleAutoFocus(true);\n  }\n\n  clear() {\n    dispatch(ActionTypes.SEARCH_CLEAR);\n    ComposeActionCreators.toggleAutoFocus(true);\n  }\n\n  goToMessagesSearch(query) {\n    SearchMessagesActionCreators.open();\n    SearchMessagesActionCreators.setQuery(query);\n    dispatch(ActionTypes.SEARCH_CLEAR);\n  }\n\n  goToContact(contact) {\n    dispatch(ActionTypes.SEARCH_CLEAR);\n    history.push(`/im/${contact.peerInfo.peer.key}`);\n  }\n\n  handleSearch(query) {\n    dispatch(ActionTypes.SEARCH_SET_QUERY, { query });\n    this.updateResults(query);\n  }\n\n  updateResults(query) {\n    const elements = QuickSearchStore.getState();\n    const results = search(query, elements, (element) => {\n      return [\n        element.peerInfo.title,\n        element.peerInfo.userName\n      ];\n    });\n\n    dispatch(ActionTypes.SEARCH_SET_RESULTS, { results });\n  }\n}\n\nexport default new SearchActionCreators();\n"]}