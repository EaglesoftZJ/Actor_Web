{"version":3,"sources":["../../src/actions/VisibilityActionCreators.js"],"names":["VisibilityActionCreators","createAppVisible","APP_VISIBLE","onAppVisible","setBindings","bindConnectState","setState","createAppHidden","APP_HIDDEN","currentPeer","getCurrentPeer","saveDraft","onAppHidden","removeBindings"],"mappings":";;;;AAIA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;+eAVA;;;;IAYMA,wB;;;;;;;;;qCACJC,gB,+BAAmB;AACjB,sCAAS,+BAAYC,WAArB;AACA,0BAAYC,YAAZ;AACA,SAAKC,WAAL,CAAiB,SAAjB,EAA4B,CAC1B,sBAAYC,gBAAZ,CAA6B,wCAA8BC,QAA3D,CAD0B,CAA5B;AAGD,G;;qCAEDC,e,8BAAkB;AAChB,sCAAS,+BAAYC,UAArB;;AAEA,QAAMC,cAAc,sBAAYC,cAAZ,EAApB;AACA,kCAAoBC,SAApB,CAA8BF,WAA9B;;AAEA,0BAAYG,WAAZ;AACA,SAAKC,cAAL,CAAoB,SAApB;AACD,G;;;;;kBAGY,IAAIb,wBAAJ,E","file":"VisibilityActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActionCreators from './ActionCreators';\nimport ConnectionStateActionCreators from '../actions/ConnectionStateActionCreators';\nimport DraftActionCreators from '../actions/DraftActionCreators';\nimport ActorClient from '../utils/ActorClient';\nimport DialogStore from '../stores/DialogStore';\n\nclass VisibilityActionCreators extends ActionCreators {\n  createAppVisible() {\n    dispatch(ActionTypes.APP_VISIBLE);\n    ActorClient.onAppVisible();\n    this.setBindings('connect', [\n      ActorClient.bindConnectState(ConnectionStateActionCreators.setState)\n    ]);\n  }\n\n  createAppHidden() {\n    dispatch(ActionTypes.APP_HIDDEN);\n\n    const currentPeer = DialogStore.getCurrentPeer();\n    DraftActionCreators.saveDraft(currentPeer);\n\n    ActorClient.onAppHidden();\n    this.removeBindings('connect');\n  }\n}\n\nexport default new VisibilityActionCreators();\n"]}