{"version":3,"sources":["../../src/actions/AddContactActionCreators.js"],"names":["open","CONTACT_ADD_MODAL_SHOW","toggleAutoFocus","close","CONTACT_ADD_MODAL_HIDE","findUsers","query","request","CONTACT_FIND","success","CONTACT_FIND_SUCCESS","failure","CONTACT_FIND_ERROR","addToContacts","uid","isContact","peer","getUserPeer","addContact","push","peerToString"],"mappings":";;;;AAIA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe;AACbA,MADa,kBACN;AACL,sCAAS,+BAAYC,sBAArB;AACA,oCAAsBC,eAAtB,CAAsC,KAAtC;AACD,GAJY;AAMbC,OANa,mBAML;AACN,sCAAS,+BAAYC,sBAArB;AACA,oCAAsBF,eAAtB,CAAsC,IAAtC;AACD,GATY;AAWbG,WAXa,qBAWHC,KAXG,EAWI;AACf,2CAAc,sBAAYD,SAAZ,CAAsBC,KAAtB,CAAd,EAA4C;AAC1CC,eAAS,+BAAYC,YADqB;AAE1CC,eAAS,+BAAYC,oBAFqB;AAG1CC,eAAS,+BAAYC;AAHqB,KAA5C,EAIG,EAAEN,YAAF,EAJH;AAKD,GAjBY;AAmBbO,eAnBa,yBAmBCC,GAnBD,EAmBMC,SAnBN,EAmBiB;AAC5B,QAAMC,OAAO,sBAAYC,WAAZ,CAAwBH,GAAxB,CAAb;AACA,QAAI,CAACC,SAAL,EAAgB;AACd,sCAAsBG,UAAtB,CAAiCJ,GAAjC;AACD;AACD,sBAAQK,IAAR,UAAoB,oBAAUC,YAAV,CAAuBJ,IAAvB,CAApB;AACD;AAzBY,C,EAZf","file":"AddContactActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport ActorClient from '../utils/ActorClient';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ContactActionCreators from './ContactActionCreators';\nimport ComposeActionCreators from '../actions/ComposeActionCreators';\nimport history from '../utils/history';\nimport PeerUtils from '../utils/PeerUtils';\n\nexport default {\n  open() {\n    dispatch(ActionTypes.CONTACT_ADD_MODAL_SHOW);\n    ComposeActionCreators.toggleAutoFocus(false);\n  },\n\n  close() {\n    dispatch(ActionTypes.CONTACT_ADD_MODAL_HIDE);\n    ComposeActionCreators.toggleAutoFocus(true);\n  },\n\n  findUsers(query) {\n    dispatchAsync(ActorClient.findUsers(query), {\n      request: ActionTypes.CONTACT_FIND,\n      success: ActionTypes.CONTACT_FIND_SUCCESS,\n      failure: ActionTypes.CONTACT_FIND_ERROR\n    }, { query })\n  },\n\n  addToContacts(uid, isContact) {\n    const peer = ActorClient.getUserPeer(uid);\n    if (!isContact) {\n      ContactActionCreators.addContact(uid);\n    }\n    history.push(`/im/${PeerUtils.peerToString(peer)}`);\n  }\n};\n"]}