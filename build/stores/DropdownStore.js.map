{"version":3,"sources":["../../src/stores/DropdownStore.js"],"names":["DropdownStore","dispatcher","_isMessageDropdownOpen","_isRecentContextOpen","_targetRect","_contextPos","_message","_peer","isMessageDropdownOpen","rid","isRecentContextOpen","getMessage","getTargetRect","getContextPos","getPeer","__onDispatch","action","type","MESSAGE_DROPDOWN_SHOW","message","targetRect","__emitChange","MESSAGE_DROPDOWN_HIDE","RECENT_CONTEXT_MENU_SHOW","contextPos","peer","RECENT_CONTEXT_MENU_HIDE"],"mappings":";;;;AAIA;;AACA;;;;AACA;;;;;;;;+eANA;;;;IAQMA,a;;;AACJ,yBAAYC,UAAZ,EAAwB;AAAA;;AAAA,iDACtB,kBAAMA,UAAN,CADsB;;AAGtB,UAAKC,sBAAL,GAA8B,KAA9B;AACA,UAAKC,oBAAL,GAA4B,KAA5B;AACA,UAAKC,WAAL,GAAmB,EAAnB;AACA,UAAKC,WAAL,GAAmB,EAAnB;AACA,UAAKC,QAAL,GAAgB,EAAhB;AACA,UAAKC,KAAL,GAAa,EAAb;AARsB;AASvB;;0BAEDC,qB,kCAAsBC,G,EAAK;AACzB,QAAIA,QAAQ,KAAKH,QAAL,CAAcG,GAA1B,EAA+B;AAC7B,aAAO,KAAKP,sBAAZ;AACD,KAFD,MAEO;AACL,aAAO,KAAP;AACD;AACF,G;;0BAEDQ,mB,kCAAsB;AACpB,WAAO,KAAKP,oBAAZ;AACD,G;;0BAEDQ,U,yBAAa;AACX,WAAO,KAAKL,QAAZ;AACD,G;;0BAEDM,a,4BAAgB;AACd,WAAO,KAAKR,WAAZ;AACD,G;;0BAEDS,a,4BAAgB;AACd,WAAO,KAAKR,WAAZ;AACD,G;;0BAEDS,O,sBAAU;AACR,WAAO,KAAKP,KAAZ;AACD,G;;0BAEDQ,Y,yBAAaC,M,EAAQ;AACnB,YAAOA,OAAOC,IAAd;AACE,WAAK,+BAAYC,qBAAjB;AACE,aAAKhB,sBAAL,GAA8B,IAA9B;AACA,aAAKC,oBAAL,GAA4B,KAA5B;AACA,aAAKG,QAAL,GAAgBU,OAAOG,OAAvB;AACA,aAAKf,WAAL,GAAmBY,OAAOI,UAA1B;AACA,aAAKC,YAAL;AACA;AACF,WAAK,+BAAYC,qBAAjB;AACE,aAAKpB,sBAAL,GAA8B,KAA9B;AACA,aAAKmB,YAAL;AACA;;AAEF,WAAK,+BAAYE,wBAAjB;AACE,aAAKpB,oBAAL,GAA4B,IAA5B;AACA,aAAKD,sBAAL,GAA8B,KAA9B;AACA,aAAKG,WAAL,GAAmBW,OAAOQ,UAA1B;AACA,aAAKjB,KAAL,GAAaS,OAAOS,IAApB;AACA,aAAKJ,YAAL;AACA;AACF,WAAK,+BAAYK,wBAAjB;AACE,aAAKvB,oBAAL,GAA4B,KAA5B;AACA,aAAKkB,YAAL;AACA;AACF;AAxBF;AA0BD,G;;;;;kBAGY,IAAIrB,aAAJ,8B","file":"DropdownStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nclass DropdownStore extends Store {\n  constructor(dispatcher) {\n    super(dispatcher);\n\n    this._isMessageDropdownOpen = false;\n    this._isRecentContextOpen = false;\n    this._targetRect = {};\n    this._contextPos = {}\n    this._message = {};\n    this._peer = {};\n  }\n\n  isMessageDropdownOpen(rid) {\n    if (rid === this._message.rid) {\n      return this._isMessageDropdownOpen;\n    } else {\n      return false;\n    }\n  }\n\n  isRecentContextOpen() {\n    return this._isRecentContextOpen;\n  }\n\n  getMessage() {\n    return this._message;\n  }\n\n  getTargetRect() {\n    return this._targetRect;\n  }\n\n  getContextPos() {\n    return this._contextPos;\n  }\n\n  getPeer() {\n    return this._peer;\n  }\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.MESSAGE_DROPDOWN_SHOW:\n        this._isMessageDropdownOpen = true;\n        this._isRecentContextOpen = false;\n        this._message = action.message;\n        this._targetRect = action.targetRect;\n        this.__emitChange();\n        break;\n      case ActionTypes.MESSAGE_DROPDOWN_HIDE:\n        this._isMessageDropdownOpen = false;\n        this.__emitChange();\n        break;\n\n      case ActionTypes.RECENT_CONTEXT_MENU_SHOW:\n        this._isRecentContextOpen = true;\n        this._isMessageDropdownOpen = false;\n        this._contextPos = action.contextPos;\n        this._peer = action.peer;\n        this.__emitChange();\n        break;\n      case ActionTypes.RECENT_CONTEXT_MENU_HIDE:\n        this._isRecentContextOpen = false;\n        this.__emitChange();\n        break;\n      default:\n    }\n  }\n}\n\nexport default new DropdownStore(Dispatcher);\n"]}